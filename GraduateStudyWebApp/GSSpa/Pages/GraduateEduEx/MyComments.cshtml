@page
@model GraduateStudyWebApp.Pages.GraduateEduEx.MyCommentsModel
@{
    Layout = "~/Pages/Shared/_Layout_PC.cshtml";
    ViewData["Title"] = "论文读写统计表";
    //操作Session样例，方法1：
    //Model.seUserId = "TestUserId";
    var strUserId_Value = Model.seUserId;
    //操作Session样例，方法2：
    Model.SetSession("UserId1", "TestUserId1");
    var strUserId1_Value = Model.GetSession("UserId1");
    //请参见页尾的隐形控件hidUserid和hidUserId1的使用。
}
@section Styles{

    <link rel="stylesheet" href="../css/Bootstrap-3.0.3.css" />
    <link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="../css/site.css" />

    <link rel="stylesheet" href="~/lib/Xadmin/css/font.css">
    <link rel="stylesheet" href="~/lib/Xadmin/css/xadmin.css">
    <!-- <link rel="stylesheet" href="./css/theme5.css"> -->


    <link rel="stylesheet" href="~/css/public.css" />

}
@section Scripts{

    <script src="~/lib/Xadmin/lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="~/lib/Xadmin/js/xadmin.js"></script>

    <script src="../lib/jquery/dist/jquery.js"></script>
    <script src="../lib/bootstrap/dist/js/bootstrap.js"></script>
    @*<script src="../js/site.js" asp-append-version="true"></script>
        <script src="../lib/bootstrap/dist/js/popper.js"></script>*@

    <!--tab选项卡-->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap.min.js"></script>


    <script>
        layui.use(['laydate', 'form'],
            function () {
                var laydate = layui.laydate;

                //执行一个laydate实例
                laydate.render({
                    elem: '#txtStartDate_q' //指定元素
                });

                //执行一个laydate实例
                laydate.render({
                    elem: '#txtEndDate_q' //指定元素
                });
            });
    </script>
    <script src="../lib/require/require.js" data-main="../js/src/config"></script>

}
<script>

var strUrl_Session_SetString = "@Model.Url_Session_SetString";
var strUrl_Session_GetString = "@Model.Url_Session_GetString";
var strCurrPrjId = "@Model.CurrPrjId";







    window.onload = function () {

        require(["../js/GraduateEduEx/MyComments.js"], function (Statistics) {
            var objPage = new Statistics.MyComments();
            $("#hidQueryStata").val("1");
            objPage.Page_Load();
        });

    }
    /*
     查询记录
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
    */
    function btnQuery_Click() {
        require(["../js/GraduateEduEx/MyComments.js"], function (Statistics) {
            $("#Text1").val("进入函数：btnQuery_Click");
            var objPage = new Statistics.MyComments();
            objPage.btnQuery_Click();
        });
    }

    function tbody() {
        $("tbody.x-cate tr[fid!='0']").hide();
        // 栏目多级显示效果
        $('.x-show').click(function () {
            if ($(this).attr('status') == 'true') {
                $(this).html('&#xe625;');
                $(this).attr('status', 'false');
                cateId = $(this).parents('tr').attr('cate-id');
                $("tbody tr[fid=" + cateId + "]").show();
            } else {
                cateIds = [];
                $(this).html('&#xe623;');
                $(this).attr('status', 'true');
                cateId = $(this).parents('tr').attr('cate-id');
                getCateId(cateId);
                for (var i in cateIds) {
                    $("tbody tr[cate-id=" + cateIds[i] + "]").hide().find('.x-show').html('&#xe623;').attr('status', 'true');
                }
            }
        })
    }

    var cateIds = [];
    function getCateId(cateId) {
        $("tbody tr[fid=" + cateId + "]").each(function (index, el) {
            id = $(el).attr('cate-id');
            cateIds.push(id);
            getCateId(id);
        });
    }


    /*
论文评论
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
*/
    function li_PaperComment_Click() {
        require(["../js/GraduateEduEx/MyComments.js"], function (Statistics) {
            $("#hidQueryStata").val("1");
            $("#Text1").val("进入函数：li_PaperComment_Click");
            var objPage = new Statistics.MyComments();
            objPage.li_PaperComment_Click();
        });
    }


    /*
论文子观点评论
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
*/
    function li_PaperSubViewpointComment_Click() {
        require(["../js/GraduateEduEx/MyComments.js"], function (Statistics) {
            $("#hidQueryStata").val("2");
            $("#Text1").val("进入函数：li_PaperSubViewpointComment_Click");
            var objPage = new Statistics.MyComments();
            objPage.li_PaperSubViewpointComment_Click();
        });
    }

    /*
主题观点评论
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
*/
    function li_ViewpointComment_Click() {
        require(["../js/GraduateEduEx/MyComments.js"], function (Statistics) {
            $("#hidQueryStata").val("3");
            $("#Text1").val("进入函数：li_ViewpointComment_Click");
            var objPage = new Statistics.MyComments();
            objPage.li_ViewpointComment_Click();
        });
    }


    /*
讨论区评论
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
*/
    function li_DiscussionTopicsComment_Click() {
        require(["../js/GraduateEduEx/MyComments.js"], function (Statistics) {
            $("#hidQueryStata").val("4");
            $("#Text1").val("进入函数：li_DiscussionTopicsComment_Click");
            var objPage = new Statistics.MyComments();
            objPage.li_DiscussionTopicsComment_Click();
        });
    }

</script>


<div id="divLoading" class="loading">
    <img src="~/images/CirclePoint.gif" />
</div>

<div id="tabLayout">
    @*-- 标题层 --*@
    <div class="x-nav">
        <span class="layui-breadcrumb">
            <a href="">首页</a>
            <a href="">个人中心</a>
            <a>
                <cite>我的评论</cite>
            </a>
            <Label id="lblMsg_List" name="lblMsg_List"></Label>
        </span>
        <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" onclick="location.reload()" title="刷新">
            <i class="layui-icon layui-icon-refresh" style="line-height:30px"></i>
        </a>

    </div>



    <div id="divQuery" class="div_query">

        <table id="tabQuery" name="tabQuery" style="width: 10%; " class="table table-bordered table-hover table td table-sm">
            <tr>

                @*<td>
                        <select id="ddlUserId_q" name="ddlUserId_q" class="form-control" style="width:170px;" />
                    </td>*@

                <td>
                    <input class="layui-input" placeholder="起始日期" name="txtStartDate_q" id="txtStartDate_q" style="width:150px;">
                </td>
                <td>
                    <input class="layui-input" placeholder="结束日期" name="txtEndDate_q" id="txtEndDate_q" style="width:150px;">
                </td>

                <td>
                    <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnQuery_Click()">
                        <i class="layui-icon">&#xe615;</i>
                    </button>
                </td>
            </tr>

        </table>
    </div>


    <div class="layui-fluid">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12">


                <div class="layui-card">

                    <div class="layui-card-header">

                    </div>

                    <ul id="myTab" class="nav nav-tabs">
                        <li class="active">
                            <a href="#PaperComment" data-toggle="tab" onclick="li_PaperComment_Click()">
                                论文评论
                            </a>
                        </li>
                        <li><a href="#PaperSubViewpointComment" data-toggle="tab" onclick="li_PaperSubViewpointComment_Click()">论文子观点评论</a></li>
                        <li><a href="#ViewpointComment" data-toggle="tab" onclick="li_ViewpointComment_Click()">主题观点评论</a></li>
                        <li><a href="#DiscussionTopicsComment" data-toggle="tab" onclick="li_DiscussionTopicsComment_Click()">讨论区评论</a></li>

                    </ul>
                    <div id="myTabContent" class="tab-content">
                        <div class="tab-pane fade in active show" id="PaperComment" style="padding:5px;">
                            <div class="layui-card-body ">
                                <table class="layui-table layui-form">
                                    <thead>
                                        <tr>
                                            @*<th width="5">
                                                    <input type="checkbox" name="" lay-skin="primary">
                                                </th>*@
                                            <th width="50">标识</th>
                                            <td width="150">评论内容</td>
                                            <th width="150">打分</th>
                                            <th width="150">论文标题</th>
                                            <th width="150">评论时间</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbList1" class="x-cate"></tbody>
                                </table>
                            </div>

                        </div>
                        <div class="tab-pane fade" id="PaperSubViewpointComment">
                            <div class="layui-card-body ">
                                <table class="layui-table layui-form">
                                    <thead>
                                        <tr>

                                            <th width="50">标识</th>
                                            <td width="150">评论内容</td>
                                            <th width="150">打分</th>
                                            <th width="150">子观点标题</th>
                                            <th width="150">评论时间</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbList2" class="x-cate"></tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="ViewpointComment">
                            <div class="layui-card-body ">
                                <table class="layui-table layui-form">
                                    <thead>
                                        <tr>
                                            <th width="50">标识</th>
                                            <td width="150">评论内容</td>
                                            @*<th width="150">打分</th>*@
                                            <th width="150">主题观点</th>
                                            <th width="150">评论时间</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbList3" class="x-cate"></tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="DiscussionTopicsComment">
                            <div class="layui-card-body ">
                                <table class="layui-table layui-form">
                                    <thead>
                                        <tr>
                                            <th width="50">标识</th>
                                            <td width="150">评论内容</td>
                                            @*<th width="150">打分</th>*@
                                            <th width="150">讨论主题</th>
                                            <th width="150">评论时间</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbList4" class="x-cate"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>



            </div>
        </div>
    </div>



</div>

<script>
    layui.use(['form'], function () {
        form = layui.form;

    });



        // 分类展开收起的分类的逻辑
        //


</script>
<input id="hidOpType" type="hidden" />
<input id="hidKeyId" type="hidden" />
<input id="hidUserId" type="hidden" />
<input id="hidUserId1" type="hidden" value="@strUserId1_Value" />
<input id="hidCurrPageIndex" type="hidden" value="1" />
<input id="hidSortBy" type="hidden" value="" />
<input id="hidUserInfo" type="hidden" value="@Model.GetSession("objvUserRoleRelation")" />
<input id="hidPaperRWId" type="hidden" />


<input id="hidQueryStata" type="hidden" />