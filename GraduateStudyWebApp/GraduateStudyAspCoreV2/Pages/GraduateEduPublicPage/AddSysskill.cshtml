
@page
@model GraduateStudyWebApp.Pages.GraduateEduPublicPage.AddSysskillModel
@{
    Layout = "~/Pages/Shared/_Layout_PC.cshtml";
    ViewData["Title"] = "技能表维护";
    //操作Session样例，方法1：
    //Model.seUserId = "TestUserId";
    var strUserId_Value = Model.seUserId;
    //操作Session样例，方法2：
    Model.SetSession("UserId1", "TestUserId1");
    var strUserId1_Value = Model.GetSession("UserId1");
    //请参见页尾的隐形控件hidUserid和hidUserId1的使用。
}
@section Styles{
    <link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="shortcut icon" href="~/images/favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="~/lib/Xadmin/css/font.css">
    <link rel="stylesheet" href="~/lib/Xadmin/css/xadmin.css">
    <link rel="stylesheet" href="~/css/public.css" />
    <link rel="stylesheet" type="text/css" href="../css/SimpleTree.css">
}
@section Scripts{
    <script src="~/lib/Xadmin/lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="~/lib/Xadmin/js/xadmin.js"></script>
    <script src="../lib/jquery/dist/jquery.js"></script>
    <script src="../lib/bootstrap/dist/js/bootstrap.js"></script>

    <script src="../lib/require/require.js" data-main="../js/src/config"></script>
}
<script>

var strUrl_Session_SetString = "@Model.Url_Session_SetString";
var strUrl_Session_GetString = "@Model.Url_Session_GetString";
var strCurrPrjId = "@Model.CurrPrjId";

 /*
  动态添加编辑区域
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_AddDPV_Edit)
 */
function AddDPV_Edit(divName4Edit) {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
sysskill.AddSysskillEx.AddDPV_Edit(divName4Edit);
});
}

 /*
  按钮单击,用于调用Js函数中btn_Click
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btn_Click)
 */
function btn_Click(strCommandName, strKeyId) {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
sysskill.AddSysskillEx.btn_Click(strCommandName, strKeyId);
});
}

 /*
  添加新记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnAddNewRecord_Click)
 */
function btnAddNewRecord_Click() {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
ShowDialog('Add');
var objPage = new sysskill.AddSysskillEx();
objPage.btnAddNewRecord_Click();
});
}

 /*
  删除记录的事件函数
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecord_Click)
 */
function btnDelRecord_Click() {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function(sysskill, commonfunc) {
var arrKeyIds = commonfunc.clsCommonFunc4Web.GetCheckedKeyIds();
if (arrKeyIds.length == 0)
{
alert("请选择需要删除的记录！");
return;
}
var objPage = new sysskill.AddSysskillEx();
objPage.btnDelRecord_Click();
});
}


 /*
  在数据表里删除记录的事件函数
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
 */
function btnDelRecordInTab_Click(strKeyId) {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
if (strKeyId == "")
{
alert("请选择需要删除的记录！");
return;
}
var objPage = new sysskill.AddSysskillEx();
objPage.btnDelRecordInTab_Click(strKeyId);
});
}


 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecord_Click)
 */
function btnUpdateRecord_Click() {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function(sysskill, commonfunc) {
       var strKeyId = commonfunc.clsCommonFunc4Web.GetFirstCheckedKeyId('divList');
    if (strKeyId == "")
{
alert("请选择需要修改的记录！");
return;
}
ShowDialog('Update');
var objPage = new sysskill.AddSysskillEx();
       objPage.btnUpdateRecord_Click(strKeyId);
});
}


 /*
  在数据表里修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
 */
function btnUpdateRecordInTab_Click(strKeyId) {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
    if (strKeyId == "")
{
alert("请选择需要修改的记录！");
return;
}
var objPage = new sysskill.AddSysskillEx();
  objPage.btnUpdateRecordInTab_Click(strKeyId);
});
}


 /*
  单击数据列表中每行首列的复选框所引发的事件
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_ChkClick)
 */
function ChkClick(myThis)
{
require(["../js/GraduateEduPublicPage/AddSysskillEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function(sysskill, commonfunc) {
var strId = myThis.id;
var strKey = strId.substring(3);
var arrKeys = commonfunc.arrSelectedKeys;
if (myThis.checked == true) {
if (arrKeys.indexOf(strKey) < 0)
{
arrKeys.push(strKey);
}
}
else {
var index = arrKeys.indexOf(strKey);
if (index > -1)
{
arrKeys.splice(index, 1);
}
}
var sstrKey = "";
for (let strK of arrKeys)
{
sstrKey += `${ strK},`;
}
$('#spanResult').html(sstrKey);
});
}

 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_ExpandDiv)
 */
         function ExpandDiv(divName) {
//基于RequireJS来调用tzPubFun.ts中的函数OnlyShowDiv。
require(["../js/TS/PubFun/tzPubFun"], function (pubfun) {
      pubfun.OnlyShowDiv(divName, "function", "content");
});
}

 /*
  获取数据列表中的所选记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_GetAllCkechedKeys)
 */
function GetAllCkechedKeys(tabName)
{
var arrKeys = tabName.getElementsByTagName('chkInTab');
alert(arrKeys.length.toString());
}

 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_IndexPage)
 */
function IndexPage(intPageIndex)
{
console.log("跳转到" + intPageIndex + "页");
require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
var objPage = new sysskill.AddSysskillEx();
objPage.IndexPage(intPageIndex);
});
}

 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_JumpToPage)
 */
function JumpToPage()
{
var intCurrPageIndex = $('#input_number').val();
var intPageIndex = Number(intCurrPageIndex);
console.log("跳转到" + intPageIndex + "页");
require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
var objPage = new sysskill.AddSysskillEx();
objPage.IndexPage(intPageIndex);
});
}

 /*
  提交编辑
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_mySubmit)
 */
function mySubmit(pstrOp) {
    //    alert("提交" + strOp);


    //先验证控件
    if ($("#txtSkillName").val() == "") {
        layer.msg('技能名称不能为空!', {
            icon: 3,
            time: 1000
        });
    }
    else if ($("#txtSkillName").val().length > 100) {
        layer.msg('技能名称不能超过100!', {
            icon: 3,
            time: 1000
        });
    }
    else if ($("#ddlOperationTypeId").val() == "" || $("#ddlOperationTypeId").val() == "0") {
        layer.msg('操作类型不能为空!', {
            icon: 3,
            time: 1000
        });
    }
    else if ($("#ddlLevelId").val() == "" || $("#ddlLevelId").val() == "0") {
        layer.msg('级别不能为空!', {
            icon: 3,
            time: 1000
        });
    }
    else if ($("#ddlShareId").val() == "" || $("#ddlShareId").val() == "0") {
        layer.msg('分享不能为空!', {
            icon: 3,
            time: 1000
        });
    }
    else if ($("#txtProcess").val() == "") {
        layer.msg('实施过程不能为空!', {
            icon: 3,
            time: 1000
        });
    }
    else if ($("#txtProcess").val().length > 1000) {
        layer.msg('实施过程不能超过1000!', {
            icon: 3,
            time: 1000
        });
    }

    else {
        $("#divLoading").show();
        //防止重复提交
        $('#btnOKUpd').attr("disabled", true);
        ////调用附件验证；
        //IsFile();

        require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (sysskill) {
            var objPage = new sysskill.AddSysskillEx();
            objPage.btnOKUpd_Click();
        });
    }



}

 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_NextPage)
 */
function NextPage()
{
var intCurrPageIndex = $('#hidCurrPageIndex').val();
var intPageIndex = Number(intCurrPageIndex) + 1;
console.log("跳转到" + intPageIndex + "页");
require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
var objPage = new sysskill.AddSysskillEx();
objPage.IndexPage(intPageIndex);
});
}



function GetRequest() {
    var url = location.search; //获取url中"?"符后的字串
    var theRequest = new Object();
    if (url.indexOf("?") != -1) {
        var str = url.substr(1);
        strs = str.split("&");
        for (var i = 0; i < strs.length; i++) {
            theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
        }
    }
    return theRequest;
}

function GetSysskillId_load() {
    var Request = new Object();
    Request = GetRequest();

    var str1 = Request['SkillId'];
    $("#hidSkillId").val(str1);
    var str2 = Request['TopicId'];
    $("#hidTopicId").val(str2);
    var str3 = Request['PaperId'];
    $("#hidRequestPaperId").val(str3);

    var str5 = Request['PdfPageNum'];
    $("#hidPdfPageNum").val(str5);

    var str7 = Request['Id_CurrEduCls'];
    $("#hidId_CurrEduCls").val(str7);

    //GetSysskillId();

    if (str2 != null) {


        require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (sysskill) {
            var objPage = new sysskill.AddSysskillEx();
            objPage.Page_Load();
        });

    }
    else {
        require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (sysskill) {
            var objPage = new sysskill.AddSysskillEx();
            objPage.Page_Load();
        });
    }
}


 /*
  页面导入-在导入页面后运行的函数
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_Page_Load)
 */
window.onload = function () {

    GetSysskillId_load();
//   require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
//var objPage = new sysskill.AddSysskillEx();
//objPage.Page_Load();
//});
}


function CloseWindow() {

    try {
        var strpaperId = $("#hidRequestPaperId").val();
        if (strpaperId != "") {
            window.parent.CloseWindow();
        }
        else {
            var strPageType = $('#hidUserTypeId').val();
            var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
            parent.layer.close(index); //再执行关闭

       //技能
            window.parent.liSysskillClick();
        }
        //if (strPageType == "01") {
        //    window.parent.liViewpointClick();
        //}
        //else if (strPageType == "02") {
        //    window.parent.liExpertViewpointClick();
        //}
        //else if (strPageType == "03") {
        //    window.parent.liConceptClick();
        //} else if (strPageType == "04") {
        //    window.parent.liObjectiveFactClick();
        //} else if (strPageType == "05") {
        //    window.parent.liObjectiveBasisClick();
        //}
    } catch (e) {
        window.opener.location = "父页面地址";
        window.opener = null;

        window.close();
    }
}
/*
 显示对话框
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
*/
function ShowDialog(pstrOp) {
    strOp = pstrOp;
    require(['jquery', 'bootstrap'], function ($) {
        if (strOp === "Add") {
            $('#myModalLabel').html('添加记录');
            //Concept_QUDI_CacheEx.GetMaxStrId('#txtConceptId');
        }
        else if (strOp === "Update") {
            $('#myModalLabel').html('修改记录');
        }
        else if (strOp === "Detail") {
            $('#btnOKUpd').hide();
            $('#myModalLabel').html('详细信息');
        }
        $('#divEditRegion').modal('show');
    });
}
 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_PageNum)
 */
function PageNum(intPageIndex)
{
console.log("跳转到" + intPageIndex + "页");
require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
var objPage = new sysskill.AddSysskillEx();
objPage.IndexPage(intPageIndex);
});
}

 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_PrevPage)
 */
function PrevPage()
{
var intCurrPageIndex = $('#hidCurrPageIndex').val();
var intPageIndex = Number(intCurrPageIndex) - 1;
console.log("跳转到" + intPageIndex + "页");
require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
var objPage = new sysskill.AddSysskillEx();
objPage.IndexPage(intPageIndex);
});
}

 /*
  全选数据列表中的所有记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_SetAllCkechedKeys)
 */
function SetAllCkechedKeys(tabName)
{
var thisChk = event.target;
require(["../js/TS/PubFun/clsCommonFunc4Web.js"], function (commonfunc) {
console.log(tabName);
console.log(thisChk);
commonfunc.clsCommonFunc4Web.SetAllCkechedKeys(tabName, thisChk);
});
}

 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_SortBy)
 */
function SortBy(strFldName)
{
console.log("按：" + strFldName + "排序");
require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function(sysskill) {
var objPage = new sysskill.AddSysskillEx();
objPage.SortBy(strFldName);
});
}

 /*
  修改记录
 (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_UpdateRecord)
 */
function UpdateRecord() {
   require(["../js/GraduateEduPublicPage/AddSysskillEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function(sysskill, commonfunc) {
       var strKeyId = commonfunc.clsCommonFunc4Web.GetFirstCheckedKeyId('divList');
if (strKeyId == "")
{
alert("请选择需要修改的记录！");
return;
}
ShowDialog('Update');
var objPage = new sysskill.AddSysskillEx();
objPage.ShowData(strKeyId);
return true;
});
}



//技能数据提交
function btnIsSubmit_Click(strKeyId) {
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (viewpoint, commonfunc) {
        
        if (strKeyId == "") {
            alert("请选择需要提交的记录！");
            return;
        }
        //ShowDialog('Update');
        var objPage = new viewpoint.AddSysskillEx();
        objPage.btnIsSubmit_Click(strKeyId);
    });
}
//取消提交
function btnCancelSubmit_Click(strKeyId) {

    require(["../js/GraduateEduPublicPage/AddSysskillEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (viewpoint, commonfunc) {

        if (strKeyId == "") {
            alert("请选择需要取消的记录！");
            return;
        }
        var objPage = new viewpoint.AddSysskillEx();
        objPage.btnCancelSubmit_Click(strKeyId);

    });

}









//-------------------------------------- 论文列表表头排序
//论文表头排序
function SortByPaper(strFldName) {
    console.log("按：" + strFldName + "排序");
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (viewpoint) {
        var objPage = new viewpoint.AddSysskillEx();
        objPage.SortByPaper(strFldName);
    });
}
//////////////////////////////////////////论文列表

/*
查询记录事件 论文；
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnPaperQuery_Click)
*/
function btnPaperQuery_Click() {
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (paper) {
        $("#Text1").val("进入函数：btnPaperQuery_Click");
        var objPage = new paper.AddSysskillEx();
        objPage.btnPaperQuery_Click();
    });
}



//选择论文按钮
function selectPaper_Click() {
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (paper) {
        var objPage = new paper.AddSysskillEx();
        objPage.selectPaper_Click();
    });
    ShowDialogThree();
}


//关闭详情
function closeTwo_Click() {

    HideDialogThree();
}

/*
确定选择论文数据
(AutoGCLib.WA_ViewScript_TS4CSharp:btnPaperRecordInTab_Click)
*/

function btnPaperRecordInTab_Click(strKeyId) {
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (researchtopic) {
        if (strKeyId == "") {
            alert("请选择需要的记录！");
            return;
        }
        //ShowDialogOne();
        var objPage = new researchtopic.AddSysskillEx();
        objPage.btnPaperRecordInTab_Click(strKeyId);
    });
}

/*
显示对话框
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
*/
function ShowDialogThree() {
    require(['jquery', 'bootstrap'], function ($) {
        $('#divPaperList').modal('show');
    });
}

/*
隐藏对话框
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
*/
function HideDialogThree() {
    require(['jquery', 'bootstrap'], function ($) {
        $('#divPaperList').modal('hide');
    });
}
/*
修改记录
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_IndexPage)
*/
function IndexPageTwo(intPageIndex) {
    console.log("跳转到" + intPageIndex + "页");
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (subviewpoint) {
        var objPage = new subviewpoint.ViewpoinAddSysskillExt_QUDIEx();
        objPage.IndexPageTwo(intPageIndex);
    });
}

/*
 修改记录
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
*/
function JumpToPageTwo() {
    var intCurrPageIndex = $('#input_numberTwo').val();
    var intPageIndex = Number(intCurrPageIndex);
    console.log("跳转到" + intPageIndex + "页");
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (subviewpoint) {
        var objPage = new subviewpoint.AddSysskillEx();
        objPage.IndexPageTwo(intPageIndex);
    });
}

/*
 修改记录
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
*/
function NextPageTwo() {
    var intCurrPageIndex = $('#hidCurrPageIndex').val();
    var intPageIndex = Number(intCurrPageIndex) + 1;
    console.log("跳转到" + intPageIndex + "页");
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (subviewpoint) {
        var objPage = new subviewpoint.AddSysskillEx();
        objPage.IndexPageTwo(intPageIndex);
    });
}

/*
 修改记录
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
*/
function PageNumTwo(intPageIndex) {
    console.log("跳转到" + intPageIndex + "页");
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (subviewpoint) {
        var objPage = new subviewpoint.AddSysskillEx();
        objPage.IndexPageTwo(intPageIndex);
    });
}

/*
 修改记录
(AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
*/
function PrevPageTwo() {
    var intCurrPageIndex = $('#hidCurrPageIndex').val();
    var intPageIndex = Number(intCurrPageIndex) - 1;
    console.log("跳转到" + intPageIndex + "页");
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (subviewpoint) {
        var objPage = new subviewpoint.AddSysskillEx();
        objPage.IndexPageTwo(intPageIndex);
    });
}


//论文表头排序
function SortByPaper(strFldName) {
    console.log("按：" + strFldName + "排序");
    require(["../js/GraduateEduPublicPage/AddSysskillEx.js"], function (viewpoint) {
        var objPage = new viewpoint.AddSysskillEx();
        objPage.SortByPaper(strFldName);
    });
}
</script>

<div id="divLoading" class="loading">
    <img src="~/images/CirclePoint.gif" />
</div>
<div id="tabLayout" style="width: 100%;height:100%;">
    @*-- 编辑层 --*@

    @*<div class="modal fade" id="divEditRegion" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">*@
    <div id="divEditRegion" tabindex="-1">
        <div>
            @*<div class="modal-content" style="width: 835px;">*@
            <div style="width: 98%;margin-left:10px;">
                @*<div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">模态框（Modal）标题</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>*@
                <div>
                    <table id="tabEdit" style="width: 100%; " class="table table-bordered table-hover table td table-sm">
                        <tr style="display:none;">
                            <td>
                                <Label id="lblSkillId" name="lblSkillId" class="col-form-label text-right" style="width:90px;">
                                    技能Id
                                </Label>
                            </td>
                            <td>
                                <input id="txtSkillId" name="txtSkillId" class="form-control" style="width:150px;" />
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>

                            <td>
                                <Label id="lblSkillName" name="lblSkillName" class="col-form-label text-right" style="width:90px;">
                                    技能名称
                                </Label>
                            </td>
                            <td>
                                <input id="txtSkillName" name="txtSkillName" class="form-control" style="width:300px;" />
                            </td>
                            <td ColSpan="2">
                                <span class="form-control" style="width:150px;">
                                    <input type="checkbox" id="chkIsSubmit" name="chkIsSubmit" Text="是否提交"><label for="chkIsSubmit">是否提交</label>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <Label id="lblOperationTypeId" name="lblOperationTypeId" class="col-form-label text-right" style="width:90px;">
                                    操作类型
                                </Label>
                            </td>
                            <td>
                                <select id="ddlOperationTypeId" name="ddlOperationTypeId" class="form-control" style="width:150px;"></select>
                            </td>
                            <td>
                                <Label id="lblLevelId" name="lblLevelId" class="col-form-label text-right" style="width:90px;">
                                    级别
                                </Label>
                            </td>
                            <td>
                                <select id="ddlLevelId" name="ddlLevelId" class="form-control" style="width:150px;"></select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <Label id="lblProcess" name="lblProcess" class="col-form-label text-right" style="width:90px;">
                                    实施过程
                                </Label>
                            </td>
                            <td ColSpan=5>
                                <textarea id="txtProcess" name="txtProcess" class="form-control" style="width:98%;height:260px;"></textarea>
                                @*<input id="txtProcess" name="txtProcess" class="form-control" style="width:350px;" />*@
                            </td>
                        </tr>
                        <tr>
                            <td class="NameTD">
                                <Label id="lblShareId" name="lblShareId" class="col-form-label text-right" style="width:90px;">
                                    分享
                                </Label>
                            </td>
                            <td class="ValueTD" colspan="3">
                                <select id="ddlShareId" name="ddlShareId" class="form-control" style="width:200px;" />

                            </td>

                        </tr>
                        @*<tr>
                                <td>
                                    <Label id="lblUpdUser" name="lblUpdUser" class="col-form-label text-right" style="width:90px;">
                                        修改人
                                    </Label>
                                </td>
                                <td>
                                    <input id="txtUpdUser" name="txtUpdUser" class="form-control" style="width:150px;" />
                                </td>
                                <td>
                                    <Label id="lblUpdDate" name="lblUpdDate" class="col-form-label text-right" style="width:90px;">
                                        修改日期
                                    </Label>
                                </td>
                                <td>
                                    <input id="txtUpdDate" name="txtUpdDate" class="form-control" style="width:150px;" />
                                </td>
                            </tr>*@
                        <tr id="SelectPaper">

                            <td>
                                <Label id="lblCitationId" name="lblCitationId" class="col-form-label text-right" style="width:90px;">
                                    引用Id
                                </Label>
                            </td>
                            <td>
                                <input id="txtCitationId" name="txtCitationId" class="form-control" style="width:150px;" />
                            </td>
                            <td colspan="2">
                                <button id="btnselectPaper" type="button" class="btn btn-primary btn-sm" style="margin-top:2px; width:100px;" onclick="selectPaper_Click()">引用文献</button>
                            </td>
                        </tr>
                        <tr></tr>
                        <tr>
                            <td>
                                <Label id="lblMemo" name="lblMemo" class="col-form-label text-right" style="width:90px;">
                                    备注
                                </Label>
                            </td>
                            <td ColSpan=5>
                                <textarea id="txtMemo" name="txtMemo" class="form-control" style="width:500px;height:40px;"></textarea>
                                @*<input id="txtMemo" name="txtMemo" class="form-control" style="width:350px;" />*@
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="modal-footer">
                    <button id="btnCancel" type="button" class="btn btn-default" onclick="CloseWindow()">关闭</button>
                    <button id="btnOKUpd" type="button" class="btn btn-primary" onclick="mySubmit()">添加</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal -->
    </div>


    @*- 论文列表 --*@
    <div class="modal fade" style="z-index:1060;" id="divPaperList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

        <div class="modal-dialog" style="margin-left:100px;">
            <div class="modal-content" style="width: 1000px;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">论文列表</h4>
                    <h4 class="modal-title" style="color:red;">(当前只显示已提交的论文数据)</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>

                <div id="divQuery" class="div_query">
                    <table id="tabQuery" name="tabQuery" style="width: 70%; " class="table table-bordered table-hover table td table-sm">
                        <tr>
                            @*<td>
                                    <Label id="lblPaperTitle_q" name="lblPaperTitle_q" class="col-form-label text-right" style="width:80px;width:90px;">
                                        论文标题
                                    </Label>
                                </td>*@
                            <td>
                                <input id="txtPaperTitle_q" name="txtPaperTitle_q" placeholder="论文标题" class="layui-input" style="width:200px;" />
                            </td>
                           

                            @*<td class="NameTD">
                                    <Label id="lblLiteratureTypeId_q" name="lblLiteratureTypeId_q" class="col-form-label text-right" style="width:90px;">
                                        文献类型
                                    </Label>
                                </td>*@
                            <td class="ValueTD">
                                <select id="ddlLiteratureTypeId_q" name="ddlLiteratureTypeId_q" class="form-control" style="width:180px;" />
                            </td>
                            <td>
                                <select id="ddlUserId_q" name="ddlUserId_q" class="form-control" style="width:180px;" />

                            </td>
                            <td>
                                <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnPaperQuery_Click()">
                                    <i class="layui-icon">&#xe615;</i>
                                </button>
                                @*<button type="submit" id="btnPaperQuery" name="btnPaperQuery" class="btn btn-outline-warning text-nowrap btn-sm" onclick="btnPaperQuery_Click()">查询</button>*@
                            </td>
                        </tr>
                        @*<tr>

                                <td>
                                    <Label id="lblReadUser_q" name="lblReadUser_q" class="col-form-label text-right" style="width:80px;width:90px;">
                                        用户
                                    </Label>
                                </td>


                                <td></td>
                                <td></td>
                            </tr>*@

                    </table>
                </div>


                <div class="modal-body">
                    <div id="divList" class="div_List">
                        <div id="divPaperDataLst" class="div_List">
                        </div>
                        <div id="divPager" class="pager" value="1">
                     
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeTwo_Click()">关闭</button>
                    @*<button id="btnOKUpd" type="button" class="btn btn-primary btn-sm" onclick="mySubmit2()">添加</button>*@
                </div>
            </div>
            <!-- /.modal-content -->
        </div>

    </div>

</div>

<input id="hidOpType" type="hidden" />
<input id="hidKeyId" type="hidden" />
<input id="hidUserId" type="hidden" />
<input id="hidUserId1" type="hidden" value="@strUserId1_Value" />
<input id="hidCurrPageIndex" type="hidden" value="1" />
<input id="hidSortvSysSkillBy" type="hidden" value="" />


<!-- 论文排序  -->
<input id="hidSortvPaperBy" type="hidden" value="" />
<!-- 主题Id  -->
<input id="hidTopicId" type="hidden" />
<!-- 技能Id  -->
<input id="hidSkillId" type="hidden" />
<!-- 传参论文  -->
<input id="hidRequestPaperId" type="hidden" />

<input id="hidPdfPageNum" type="hidden" />


@* 教学班Id *@
<input id="hidId_CurrEduCls" type="hidden" />