@page
@{
    Layout = "~/Pages/Shared/_Layout_PC.cshtml";
    ViewData["Title"] = "研究主题维护";
}
@section Styles{

<link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="~/textboxio/example.css" />

<link rel="stylesheet" href="~/lib/Xadmin/css/font.css">
<link rel="stylesheet" href="~/lib/Xadmin/css/xadmin.css">

<!-- 树形菜单样式 。js -->
<script type="text/javascript" src="../lib/jquery-1.6.min.js"></script>
<link rel="stylesheet" type="text/css" href="../css/SimpleTree.css">
<link rel="stylesheet" href="~/css/public.css" />

<style>
    .nav-tabs .nav-link.active, .nav-tabs .nav-item.show .nav-link {
        color: red;
        background-color: #fff;
        border-color: #dee2e6 #dee2e6 #fff;
        font-weight: bold;
    }



    .TopicRole {
        width: 100%;
        border-radius: 10px;
        background-color: white;
    }

        .TopicRole ul {
            margin-top: 5px;
            margin-left: 5px;
            overflow: hidden;
            width: 100%;
            list-style: none;
            padding: 0;
        }

        .TopicRole li {
            text-align: left;
            float: left;
            width: 45%;
            margin: 5px;
        }
</style>

<!-- 树形菜单样式 。js -->
}

@section Scripts{
<script src="../lib/jquery/dist/jquery.js"></script>
<script src="~/lib/Xadmin/lib/layui/layui.js" charset="utf-8"></script>
<script type="text/javascript" src="~/lib/Xadmin/js/xadmin.js"></script>

<script src="../lib/bootstrap/dist/js/bootstrap.js"></script>

<!--tab选项卡-->
    @*<script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap.min.js"></script>*@
<script type='text/javascript' src='~/textboxio/textboxio.js'></script>

<script>
    layui.use(['laydate', 'form'],
        function () {
            var laydate = layui.laydate;

            //执行一个laydate实例
            laydate.render({
                elem: '#txtProblemDate_q' //指定元素
            });

            //执行一个laydate实例
            laydate.render({
                elem: '#txtUpdDate_q' //指定元素
            });

        });
</script>

<script src="../lib/require/require.js" data-main="../js/src/config"></script>

}

<script>
    //修改主题用户色码块；
    function btnUpdateUserRelaInTab_Click(strKeyId, strRoleId) {
        console.error("pyf-btnUpdateUserRelaInTab_Click");
        require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (rtuserrela) {
            if (strKeyId == "") {
                alert("请选择需要删除的记录！");
                return;
            }
            //ShowUserColor();

            $('#hidTopicUserId').val(strKeyId);
            var objPage = new rtuserrela.ResearchTopic_QUDIEx();
            objPage.btnUpdateUserRelaInTab_Click(strKeyId, strRoleId);
        });
    }
        /*
      按钮单击,用于调用Js函数中btn_Click
     (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btn_Click)
     */
        function btn_Click(strCommandName, strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (viewinfo) {
                viewinfo.ResearchTopic_QUDIEx.btn_Click(strCommandName, strKeyId);
            });
        }

         function stripscript(s) {
                var pattern = new RegExp("[`~!#$^&*()=|{}':;',\\[\\].<>/?~！#￥……&*（）——|{}【】‘；：”“'。，、？]");
                var rs = "";
                for (var i = 0; i < s.length; i++) {
                    rs = rs + s.substr(i, 1).replace(pattern, '');
                }
                return rs;
         }
        //通过返回的新的数据循环读取span 存放数组
        function GetSpanList() {
            var ColorCode = $("#hidColorCode").val();
            var strUserId = $("#hidUserId").val();
            var array = new Array();//声明一个新的数组
            $("#inpRight span").each(function (index, item)
            {
                var val = $(this).html()
               // alert(val);
                array.push($(this).html());//往数组中存入值

               // array.push(val);//往数组中存入值

            });

            //循环数组数据，比对含有标签的修改数据；如果找到相同地方，取出然后替换增加背景标签插入到修改段落中；
            $.each(array, function (index, value) {

                var txt = $('#txtMeetingContent').val();
                console.log(txt);

               var strResult = stripscript(value);
                //var tt = txt.replace(new RegExp(value, 'g'), '<span style="color:' + ColorCode + ';" name="' + strUserId + '">' + value + '</span>');
               var tt = txt.replace(new RegExp(strResult, 'g'), '<span style="color:' + ColorCode + ';">' + strResult + '</span>');
                $('#txtMeetingContent').val(tt);
               // alert(i + "..." + value);
            });
        }


        function GetSpanList2() {
            var ColorCode = $("#hidColorCode").val();
            var strUserId = $("#hidUserId").val();
            var array = new Array();//声明一个新的数组
            $("#inpRight span").each(function (index, item) {
                var val = $(this).html()
                // alert(val);
                array.push($(this).html());//往数组中存入值

                // array.push(val);//往数组中存入值

            });

            //循环数组数据，比对含有标签的修改数据；如果找到相同地方，取出然后替换增加背景标签插入到修改段落中；
            $.each(array, function (index, value) {

                var txt = $('#txtProblemContent').val();
                console.log(txt);

                var strResult = stripscript(value);
                //var tt = txt.replace(new RegExp(value, 'g'), '<span style="color:' + ColorCode + ';" name="' + strUserId + '">' + value + '</span>');
                var tt = txt.replace(new RegExp(strResult, 'g'), '<span style="color:' + ColorCode + ';">' + strResult + '</span>');
                $('#txtProblemContent').val(tt);
                // alert(i + "..." + value);
            });
        }


    //所有用户自定义的JS函数建议都放在这里
        function startCompare() {
            var a = $.trim($("#inpLeft").val());
            var stra = a.replace(/<[^<>]+>/g, '');
            var stra1 = a.replace(/<\/?.+?>/g, '')

            //var b = $.trim($("#inpRight").val());
            var b = $.trim($("#txtMeetingContent").val());
            var strb = b.replace(/<[^<>]+>/g, '');
            var strb1 = b.replace(/<\/?.+?>/g, '')
            var result = getHighLightDifferent(stra, strb);
            //getHighLightDifferent("1000", "10012");

            $("#show1").html(result[0]);//老的数据
            //$("#show2").html(result[1]);//返回新的数据
            $("#inpRight").html(result[1]);//返回新的数据存放div中

            //把返回的比对后的不同高亮数据循环得到存入数组
         //   GetSpanList();
            return false;
        }

        function startCompare2() {
            var a = $.trim($("#inpLeft").val());
            var stra = a.replace(/<[^<>]+>/g, '');
            var stra1 = a.replace(/<\/?.+?>/g, '')

            //var b = $.trim($("#inpRight").val());
            var b = $.trim($("#txtProblemContent").val());
            var strb = b.replace(/<[^<>]+>/g, '');
            var strb1 = b.replace(/<\/?.+?>/g, '')
            var result = getHighLightDifferent(stra, strb);
            //getHighLightDifferent("1000", "10012");

            $("#show1").html(result[0]);//老的数据
            //$("#show2").html(result[1]);//返回新的数据
            $("#inpRight").html(result[1]);//返回新的数据存放div中

            //把返回的比对后的不同高亮数据循环得到存入数组
            //   GetSpanList();
            return false;
        }

        var flag = 1;

        function getHighLightDifferent(a, b) {
            //console.log("输入：" + a);
            //console.log("输入：" + b);

            var temp = getDiffArray(a, b);
            var a1 = getHighLight(a, temp[0]);
            //console.log("输出：" + a1);

            var a2 = getHighLight(b, temp[1]);
            //console.log("输出：" + a2);
            //console.log(flag);
            return new Array(a1, a2);
        }

        function getHighLight(source, temp) {
            var ColorCode = $("#hidColorCode").val();
            var strUserId = $("#hidUserId").val();
            var result = new StringBuffer();
            var sourceChars = source.split("");
            var tempChars = temp.split("");
            var flag = false;
            for (var i = 0; i < sourceChars.length; i++) {
                if (tempChars[i] != ' ') {
                    if (i == 0) {
                        //result.append("<span style='color:blue'>");
                        //result.append("<span style='color:" + ColorCode + "' name='" + strUserId + "'>");
                        result.append("<span style='color:" + ColorCode + "' name='" + strUserId + "'>");
                        //result.append("<span style='color:" + ColorCode + "'>");
                        result.append(sourceChars[i]);
                    }
                    else if (flag) {
                        result.append(sourceChars[i]);
                    }
                    else {
                        //result.append("<span style='color:blue'>");
                        result.append("<span style='color:" + ColorCode + "' name='" + strUserId + "'>");
                        //result.append("<span style='color:" + ColorCode + "'>");
                        result.append(sourceChars[i]);
                    }
                    flag = true;
                    if (i == sourceChars.length - 1) {
                        result.append("</span>");
                    }
                }
                else if (flag == true) {
                    result.append("</span>");
                    result.append(sourceChars[i]);
                    flag = false;
                } else {
                    result.append(sourceChars[i]);
                }
            }
            return result.toString();
        }

        function getDiffArray(a, b) {
            var result = new Array();
            //选取长度较小的字符串用来穷举子串
            if (a.length < b.length) {
                var start = 0;
                var end = a.length;
                result = getDiff(a, b, start, end);
            } else {
                var start = 0;
                var end = b.length;
                result = getDiff(b, a, 0, b.length);
                result = new Array(result[1], result[0]);
            }
            return result;

        }

        //将a的指定部分与b进行比较生成比对结果
        function getDiff(a, b, start, end) {
            var result = new Array(a, b);
            if (result == undefined) return result;
            if (result.length == 0) return result;
            var len = result[0].length;
            while (len > 0) {
                for (var i = start; i < end - len + 1; i++) {
                    var sub = result[0].substring(i, i + len);
                    var idx = -1;
                    if ((idx = result[1].indexOf(sub)) != -1) {
                        result[0] = setEmpty(result[0], i, i + len);
                        result[1] = setEmpty(result[1], idx, idx + len);
                        if (i > 0) {
                            //递归获取空白区域左边差异
                            result = getDiff(result[0], result[1], start, i);
                        }
                        if (i + len < end) {
                            //递归获取空白区域右边差异
                            result = getDiff(result[0], result[1], i + len, end);
                        }
                        len = 0;//退出while循环
                        break;
                    }
                }
                len = parseInt(len / 2);
                //len = len - 1;
                //console.log(len);
            }
            //console.log(result.join(""));
            return result;
        }

        //将字符串s指定的区域设置成空格
        function setEmpty(s, start, end) {
            var array = s.split("");
            for (var i = start; i < end; i++) {
                array[i] = ' ';
            }
            return array.join("");
        }

        function StringBuffer() {
            this.__strings__ = [];
        };
        StringBuffer.prototype.append = function (str) {
            this.__strings__.push(str);
            return this;
        };
        //格式化字符串
        StringBuffer.prototype.appendFormat = function (str) {
            for (var i = 1; i < arguments.length; i++) {
                var parent = "\\{" + (i - 1) + "\\}";
                var reg = new RegExp(parent, "g")
                str = str.replace(reg, arguments[i]);
            }

            this.__strings__.push(str);
            return this;
        }
        StringBuffer.prototype.toString = function () {
            return this.__strings__.join('');
        };
        StringBuffer.prototype.clear = function () {
            this.__strings__ = [];
        }
        StringBuffer.prototype.size = function () {
            return this.__strings__.length;
        }






    @*@param $
        自定义jQuery扩展方法, 在光标处插入内容*@

    (function ($) {
        "use strict";
        $.fn.extend({
            insertAtCaret: function (myValue) {
                var $t = $(this)[0];
                if (document.selection) {
                    this.focus();
                    var sel = document.selection.createRange();
                    sel.text = myValue;
                    this.focus();
                } else
                    if ($t.selectionStart || $t.selectionStart == '0') {
                        var startPos = $t.selectionStart;
                        var endPos = $t.selectionEnd;
                        var scrollTop = $t.scrollTop;
                        $t.value = $t.value.substring(0, startPos) + myValue + $t.value.substring(endPos, $t.value.length);
                        this.focus();
                        $t.selectionStart = startPos + myValue.length;
                        $t.selectionEnd = startPos + myValue.length;
                        $t.scrollTop = scrollTop;
                    } else {
                        this.value += myValue;
                        this.focus();
                    }
            }
        });
    })(jQuery);
</script>

<script>

        //把内容写入到编辑器内
        function setTextboxio() {
            var editors1 = $("#txtMeetingContent").val();
            var editors = textboxio.get('#txtMeetingContent');
            var editor = editors[0];
                if (editor != null)
            {
            editor.content.set(editors1);
            }
        }
        //从编辑器内获取内容到控件
        function getTextboxio() {
            var editors = textboxio.get('#txtMeetingContent');
            var editor = editors[0];
                if (editor != null)
            {
            $("#txtMeetingContent").val(editor.content.get());
            }
        }

        //把内容写入到编辑器内
        function setTextboxio2() {
            var editors1 = $("#txtProblemContent").val();
            var editors = textboxio.get('#txtProblemContent');
            var editor = editors[0];
                if (editor != null)
            {
            editor.content.set(editors1);
            }
        }
        //从编辑器内获取内容到控件
        function getTextboxio2() {
            var editors = textboxio.get('#txtProblemContent');
            var editor = editors[0];
            if (editor != null)
            {
                $("#txtProblemContent").val(editor.content.get());
            }
        }

        //所有用户自定义的JS函数建议都放在这里
        function instantiateTextbox() {
            textboxio.replaceAll('textarea', {
                paste: {
                    style: 'clean'
                },
                css: {
                    stylesheets: ['../textboxio/example.css']
                }
            });
        };

        var flag = false;

        function main_Click(strKey) {
            //var num = $('.main').index(this);
            if (flag == true) {
                //$('.main').eq(num).css('background', 'url(../images/st_folder_open.gif) no-repeat left');
                //$('.submenu').eq(num).show(100);

                $('#' + strKey).css('background', 'url(../images/st_folder_open.gif) no-repeat left');
                $('#ul' + strKey).show();

                flag = false;



            } else {
                //$('.main').eq(num).css('background', 'url(../images/st_folder.gif) no-repeat left');
                //$('.submenu').eq(num).hide(100);

                $('#' + strKey).css('background', 'url(../images/st_folder.gif) no-repeat left');
                $('#ul' + strKey).hide();

                flag = true;
            }
        }

        //默认展开数据
        function LoadTreeShow(strKey) {

            $('#' + strKey).css('background', 'url(../images/st_folder_open.gif) no-repeat left');

            //    var num = $('.main').index(this);
            //$('.main').eq(num).css('background', 'url(../images/st_folder_open.gif) no-repeat left');
            //    $('.submenu').eq(num).show(100);
            //    flag = false;
        }




        /*
     页面导入-在导入页面后运行的函数
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_Page_Load)
    */
        window.onload = function () {
            //获取隐藏控件值
            $('#hidTabNum').val(1);

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.Page_Load();
            });

        }

        //点击主题树菜单事件；
        function btnSelectResearchTopic(strKeyId, strId_CurrEduCls, strTopicName, strEduClsTypeId) {
            //$("#divContent_list").show();
            //先清除背景色
            $(".submenu li a").removeClass("selected");
            //添加背景色
            $("#" + strKeyId + " a").addClass("selected");
            //存储点击的id
            $("#hidTopicRelaId").val(strKeyId);
            //存储教学班Id
            $("#hidId_CurrEduCls").val(strId_CurrEduCls);
            //把主题名称传递给父框架页
            $("#TopicName", window.parent.document).html(strTopicName);
            //存储教学班Id
            $("#hidEduClsTypeId").val(strEduClsTypeId);

            //alert(strKeyId);
            //点击后调整关系表数据方法；
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod(strKeyId);
            });
        }


        /***获取所有tab的绑定信息***/
        function GetAllFunctionMethod() {
            liViewsClassificationClick();
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });

        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogPaperSubViewpoint() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divTopicPaperUserList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogPaperSubViewpoint() {

            var strPaperId = $("#hidTopicPaperId").val();
            var strTopicId = $('#hidTopicRelaId').val();
            xadminOpen('论文子观点', '../GraduateEduEx/PaperSubViewpoint_pdf?Type=01&TopicId=' + strTopicId + '&PaperId=' + strPaperId);

            require(['jquery', 'bootstrap'], function ($) {
                $('#divTopicPaperUserList').modal('hide');
            });
        }
        /**************************************************论文子观点相关***************************************** */

        //进入子观点
        function btnPaperSubViewpoint_Click(strKeyId) {

            require(["../js/GraduateEduPublicPage/Public_PaperSubViewpoint.js"], function (researchtopic) {
                var objPage = new researchtopic.Public_PaperSubViewpoint();
                objPage.btnPaperSubViewpoint_Click(strKeyId);
            });
        }

        //刷新本页面子观点
        function Refresh_vPaperSubViewpoint() {

            require(["../js/GraduateEduPublicPage/Public_PaperSubViewpoint.js"], function (researchtopic) {
                var objPage = new researchtopic.Public_PaperSubViewpoint();
                objPage.BindListPaperSubViewpoint();
            });
        }



        function xadminOpen(strTitle, strUrl)
        {
            xadmin.open(strTitle, strUrl, '', '', true);
        }
         function xadminOpen_Width_Height(strTitle, strUrl, strWidth, strHeight)
        {
            xadmin.open(strTitle, strUrl, strWidth, strHeight, true);
        }
        ///添加客观事实
        function btnAddObjectiveFactClickBak() {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                //存放选择id客观事实
                var strObjectiveType = "01";
                $('#hidObjectiveTypeId').val(strObjectiveType);

                xadminOpen_Width_Height('添加客观事实', '../GraduateEduPublicPage/AddObjectiveFact?ObjectiveTypeId=01&TopicId=' + strKeyId, 1200, 800);
            }

        }


        ///添加客观数据按钮
        function btnAddBasisObjectiveClickBak() {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                //存放选择id客观数据
                var strObjectiveType = "02";
                $('#hidObjectiveTypeId').val(strObjectiveType);

                xadminOpen_Width_Height('添加客观数据', '../GraduateEduPublicPage/AddObjectiveFact?ObjectiveTypeId=02&TopicId=' + strKeyId, 1200, 800);
            }

        }
        //修改客观
        function btnUpdObjective_ClickBak(strTopicObjectiveId) {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                //存放选择id客观数据
                var strObjectiveType = "02";
                $('#hidObjectiveTypeId').val(strObjectiveType);

                xadminOpen_Width_Height('修改客观事实/数据', '../GraduateEduPublicPage/AddObjectiveFact?ObjectiveTypeId=02&TopicId=' + strKeyId + '&TopicObjectiveId=' + strTopicObjectiveId, 1200, 800);
            }

        }



        //确定选择客观数据
        function btnOkObjectiveInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }
                var objPage = new researchtopic.ResearchTopicObjectiveEx();
                objPage.btnOkObjectiveInTab_Click(strKeyId);
            });
        }


        //添加主题概念
        function btnAddNewConceptRela_ClickBak() {

            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                xadminOpen_Width_Height('添加相关概念', '../GraduateEduPublicPage/AddConcept?TopicId=' + strKeyId, 1200, 800);
            }

        }

        //修改主题概念
        function btnUpdConcept_ClickBak(strConceptId) {

            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                xadminOpen_Width_Height('修改相关概念', '../GraduateEduPublicPage/AddConcept?TopicId=' + strKeyId + '&ConceptId=' + strConceptId, 1200, 800);
            }

        }



        /***************************************************添加主题用户关系*************************************************/
        //添加主题用户关系
        function btnAddUserRelaInTab_ClickBak() {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {

                var strKeyId = $('#hidTopicRelaId').val();

                if (strKeyId == "") {
                    alert("请选择需要添加关系的主题！");
                    return;
                }
                else {
                    //存放选择id
                    //  $('#hidTopicRelaId').val(strKeyId);

                    //ShowDialogFour();
                    //调用用户列表绑定；
                    var objPage = new researchtopic.ResearchTopic_QUDIEx();
                    objPage.btnAddUserRela_Click();
                }


            });
        }
        //删除主题用户关系
        function btnDelUserRelaInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (rtuserrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtuserrela.ResearchTopic_QUDIEx();
                objPage.btnDelUserRelaRecordInTab_Click(strKeyId);
            });
        }

        function btnOkUserColor_Click(strUserColor) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (rtuserrela) {

                var objPage = new rtuserrela.ResearchTopic_QUDIEx();
                objPage.btnOkUserColor_Click(strUserColor);
            });
        }


        //显示色码层
        function ShowUserColor() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divUserColorList').modal('show');
            });
        }
        //隐藏色码层
        function HideUserColor() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divUserColorList').modal('hide');
            });
        }

        ///添加个人观点
        function btnAddViewPointRela_ClickBak() {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                //存放选择id
                var strUserTypeId = "01";
                $('#hidUserTypeId').val(strUserTypeId);
                console.error("pyf-btnAddViewPointRela_Click");
                xadminOpen_Width_Height('添加个人观点', '../GraduateEduPublicPage/AddViewpoint?UserTypeId=01&TopicId=' + strKeyId, 1200, 800);
            }

        }


        ///修改个人观点
        function btnUpdViewPoint_ClickBak(strViewpointId, strUserTypeId) {
            var strTopicId = $('#hidTopicRelaId').val();

            if (strTopicId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                //存放选择id
                //var strUserTypeId = "01";
                $('#hidUserTypeId').val(strUserTypeId);

                xadminOpen_Width_Height('修改观点', '../GraduateEduPublicPage/AddViewpoint?UserTypeId=' + strUserTypeId + '&TopicId=' + strTopicId + '&ViewpointId=' + strViewpointId, 1200, 800);
            }
        }

        ///推荐个人观点
        function btnRecommendViewPoint_ClickBak(strViewpointId, strUserTypeId) {
            var strTopicId = $('#hidTopicRelaId').val();

            if (strTopicId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                //存放选择id
                //var strUserTypeId = "01";
                $('#hidUserTypeId').val(strUserTypeId);

                xadminOpen_Width_Height('推荐观点', '../GraduateEduPublicPage/AddViewpoint?UserTypeId=' + strUserTypeId + '&TopicId=' + strTopicId + '&ViewpointId=' + strViewpointId + '&IsRecommend=1', 1200, 800);
            }
        }


        //添加专家观点
        function btnAddExpertViewPointRel_ClickBak() {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                //存放选择id
                var strUserTypeId = "02";
                $('#hidUserTypeId').val(strUserTypeId);

                xadminOpen_Width_Height('添加专家观点', '../GraduateEduPublicPage/AddViewpoint?UserTypeId=02&TopicId=' + strKeyId, 1200, 800);
            }

        }


        //删除主题个人观点关系
        function btnDelViewPointRelaRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (rtviewpointrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtviewpointrela.ResearchTopicViewpointEx();
                objPage.btnDelViewPointRelaRecordInTab_Click(strKeyId);
            });
        }

        //删除主题专家观点关系
        function btnDelExpertViewPointRelaRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (rtviewpointrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtviewpointrela.ResearchTopicViewpointEx();
                objPage.btnDelExpertViewPointRelaRecordInTab_Click(strKeyId);
            });
        }

        //选择观点方法
        function btnOkInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }
                var objPage = new researchtopic.ResearchTopicViewpointEx();
                objPage.btnOkInTab_Click(strKeyId);
            });
        }

        //2.观点列表

        //关闭观点列表
        function closeOne_Click() {

            HideDialogTwo();
        }



        /*********************************************************************************/


        //选择主题论文关系
        function btnAddPaperRelaRecordInTab_ClickBak() {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {
                var strKeyId = $('#hidTopicRelaId').val();

                if (strKeyId == "") {
                    alert("请选择需要添加关系的主题！");
                    return;
                }
                else {
                    //存放选择id
                    //  $('#hidTopicRelaId').val(strKeyId);
                    var strType = "01"; //代表没条件的查询
                    ShowDialogThree();
                    //调用
                    var objPage = new researchtopic.RTPaperRela_QUDIEx();
                    objPage.btnAddPaperRela_Click(strType);

                }
            });
        }



        //选择研究结果
        function btnTwoAddPaperRelaRecordInTab_ClickBak() {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {

                var strKeyId = $('#hidTopicRelaId').val();

                if (strKeyId == "") {
                    alert("请选择需要添加关系的主题！");
                    return;
                }
                else {
                    //存放选择id
                    //  $('#hidTopicRelaId').val(strKeyId);
                    var strType = "02"; //代表小组内的成员查看
                    ShowDialogThree();
                    //调用
                    var objPage = new researchtopic.RTPaperRela_QUDIEx();

                    objPage.btnAddPaperRela_Click(strType);

                }
            });
        }

        //答疑添加论文
        function btnThreeAddPaperRelaRecordInTab_ClickBak() {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {

                var strKeyId = $('#hidTopicRelaId').val();

                if (strKeyId == "") {
                    alert("请选择需要添加关系的主题！");
                    return;
                }
                else {
                    //存放选择id
                    //  $('#hidTopicRelaId').val(strKeyId);
                    var strType = "03"; //答疑添加论文
                    ShowDialogThree();
                    //调用
                    var objPage = new researchtopic.RTPaperRela_QUDIEx();
                    objPage.btnAddPaperRela_Click(strType);
                }
            });
        }

        //删除主题论文关系
        function btnDelPaperRelaRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (rtpaperrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtpaperrela.RTPaperRela_QUDIEx();
                objPage.btnDelPaperRelaRecordInTab_Click(strKeyId);
            });
        }

        ///添加论文观点
        function btnAddNewPaperViewpointRela_ClickBak(strPaperId) {
            var strTopicId = $('#hidTopicRelaId').val();
            if (strTopicId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {
                xadminOpen('添加论文观点', '../GraduateEduPaper/OriginalPaperAddideas?PaperId=' + strPaperId + '&PaperLogTypeId=03&TopicId=' + strTopicId)
            }

        }

        /***************************************************研究主题维护**************************************************/
        /*
         添加新记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnAddNewRecord_Click)
        */
        function btnAddNewRecord_Click() {

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                ShowDialog('Add');
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.btnAddNewRecord_Click();
            });
        }


        /*
         在数据表里删除记录的事件函数
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnDelRecordInTab_Click)
        */
        function btnDelRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.btnDelRecordInTab_Click(strKeyId);
            });
        }


        /*
         查询记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
        */
        function btnQuery_Click() {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                $("#Text1").val("进入函数：btnQuery_Click");
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.btnQuery_Click();
            });
        }

        function btnQueryViewpointRela_Click() {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {
                var strKeyId = commonfunc.clsCommonFunc4Web.GetFirstCheckedKeyId('divList');
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }

                window.location.href = "../GraduateEduTopic/ResearchTopicAdd?TopicRelaId=" + strKeyId;

            });
        }



        //修改主题权限
        function SubmitTopicRole_ClickBak(checkbox, keyId) {
            $("#hidTopicRoleId").val(keyId);
            if (checkbox.checked == true) {
                layui_Alert(1, "显示！")
                $("#hidMenuIsHide").val(checkbox.checked);

            } else {
                layui_Alert(1, "隐藏！")
                $("#hidMenuIsHide").val(checkbox.checked);
            }

            require(["../js/GraduateEduTopic/gs_TopicRoleCRUDEx.js"], function (TopicRole) {
                var objPage = new TopicRole.gs_TopicRoleCRUDEx();
                objPage.SubmitTopicRole_Click();
            });

        }
        //主题菜单是否显示
        function TopicMenuIsHide() {
            require(["../js/GraduateEduTopic/gs_TopicRoleCRUDEx.js"], function (TopicRole) {
                var objPage = new TopicRole.gs_TopicRoleCRUDEx();
                objPage.TopicMenuIsHide();
            });
        }


        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogTopicRole() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#editTopicRole').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogTopicRole() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#editTopicRole').modal('hide');
            });
        }

        /*
         在数据表里修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnUpdateRecordInTab_Click)
        */
        function btnUpdateRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要修改的记录！");
                    return;
                }
                //ShowDialog('Update');
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.btnUpdateRecordInTab_Click(strKeyId);
            });
        }


        /*
         单击数据列表中每行首列的复选框所引发的事件
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ChkClick)
        */
        function ChkClick(myThis) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {
                var strId = myThis.id;
                var strKey = strId.substring(3);
                var arrKeys = commonfunc.arrSelectedKeys;
                if (myThis.checked == true) {
                    if (arrKeys.indexOf(strKey) < 0) {
                        arrKeys.push(strKey);
                    }
                }
                else {
                    var index = arrKeys.indexOf(strKey);
                    if (index > -1) {
                        arrKeys.splice(index, 1);
                    }
                }
                var sstrKey = "";
                for (let strK of arrKeys) {
                    sstrKey += `${strK},`;
                }
                $('#spanResult').html(sstrKey);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ExpandDiv)
        */
        function ExpandDiv(divName) {
            //基于RequireJS来调用tzPubFun.ts中的函数OnlyShowDiv。
            require(["../js/TS/PubFun/tzPubFun"], function (pubfun) {
                pubfun.OnlyShowDiv(divName, "function", "content");
            });
        }

        /*
         获取数据列表中的所选记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_GetAllCkechedKeys)
        */
        function GetAllCkechedKeys(tabName) {
            var arrKeys = tabName.getElementsByTagName('chkInTab');
            alert(arrKeys.length.toString());
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_IndexPage)
        */
        function IndexPage(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.IndexPage(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPage() {
            var intCurrPageIndex = $('#input_number').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.IndexPage(intPageIndex);
            });
        }

        /*
         提交编辑
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_mySubmit)
        */
        function mySubmit(pstrOp) {

            //先验证界面数据
            if ($("#txtTopicName").val() == "") {
                layer.msg('栏目不能为空!', {
                    icon: 3,
                    time: 1000
                });
            }
            else if ($("#txtTopicName").val().length > 100) {
                layer.msg('栏目不能超过100!', {
                    icon: 3,
                    time: 1000
                });
            }
            else if ($("#txtTopicContent").val() == "") {
                layer.msg('主题内容不能为空!', {
                    icon: 3,
                    time: 1000
                });
            }
            else if ($("#ddlShareId").val() == "" || $("#ddlShareId").val() == "0") {
                layer.msg('分享不能为空!', {
                    icon: 3,
                    time: 1000
                });
            }
            else {
                //    alert("提交" + strOp);
                require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                    var objPage = new researchtopic.ResearchTopic_QUDIEx();
                    objPage.btnOKUpd_Click();
                });

                //防止重复提交
                $('#btnOKUpd').attr("disabled", true);
                $('#divLoading').show();
            }


        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPage() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.IndexPage(intPageIndex);
            });
        }


        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNum(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.IndexPage(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPage() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.IndexPage(intPageIndex);
            });
        }

        /*
         全选数据列表中的所有记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_SetAllCkechedKeys)
        */
        function SetAllCkechedKeys(tabName) {
            var thisChk = event.target;
            require(["../js/TS/PubFun/clsCommonFunc4Web.js"], function (commonfunc) {
                console.log(tabName);
                console.log(thisChk);
                commonfunc.clsCommonFunc4Web.SetAllCkechedKeys(tabName, thisChk);
            });
        }

        /*
         显示对话框
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
        */
        function ShowDialog(pstrOp) {
            strOp = pstrOp;
            require(['jquery', 'bootstrap'], function ($) {
                if (strOp === "Add") {
                    $('#myModalLabel').html('添加记录');
                }
                else if (strOp === "Update") {
                    $('#myModalLabel').html('修改记录');
                }
                else if (strOp === "Detail") {
                    $('#btnOKUpd').hide();
                    $('#myModalLabel').html('详细信息');
                }
                $('#divEditRegion').modal('show');
            });
        }

        /*
         隐藏对话框
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
        */
        function HideDialog() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divEditRegion').modal('hide');
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_SortBy)
        */
        function SortBy(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.SortBy(strFldName);
            });
        }





        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_UpdateRecord)
        */
        function UpdateRecord() {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {
                var strKeyId = commonfunc.clsCommonFunc4Web.GetFirstCheckedKeyId('divList');
                if (strKeyId == "") {
                    alert("请选择需要修改的记录！");
                    return;
                }
                ShowDialog('Update');
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.ShowData(strKeyId);
                return true;
            });
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        //function ShowDialogOne() {
        //    require(['jquery', 'bootstrap'], function ($) {
        //        $('#divResearchTopicDetail').modal('show');
        //    });
        //}

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogOne() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divResearchTopicDetail').modal('hide');
            });
        }




        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogTwo() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divViewpointList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogTwo() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divViewpointList').modal('hide');
            });

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });
        }
        /*
    修改记录
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_IndexPage)
    */
        function IndexPageOne(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicViewpointEx();
                objPage.IndexPageOne(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageOne() {
            var intCurrPageIndex = $('#input_numberOne').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicViewpointEx();
                objPage.IndexPageOne(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageOne() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicViewpointEx();
                objPage.IndexPageOne(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumOne(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicViewpointEx();
                objPage.IndexPageOne(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageOne() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicViewpointEx();
                objPage.IndexPageOne(intPageIndex);
            });
        }






        //3.论文列表
        /*
    添加主题论文关系记录
    (AutoGCLib.WA_ViewScript_TS4CSharp:btnAddPaperRela_Click)
    */
        function btnAddPaperRela_Click() {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {
                var strKeyId = commonfunc.clsCommonFunc4Web.GetFirstCheckedKeyId('divList');
                if (strKeyId == "") {
                    alert("请选择需要添加关系的记录！");
                    return;
                }
                //存放选择id
                $('#hidTopicRelaId').val(strKeyId);

                ShowDialogThree();
                //调用专业方向绑定；
                var objPage = new researchtopic.RTPaperRela_QUDIEx();
                objPage.btnAddPaperRela_Click();





            });
        }


        /*
        确定选择论文数据
       (AutoGCLib.WA_ViewScript_TS4CSharp:btnPaperRecordInTab_Click)
       */

        function btnPaperRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }
                //ShowDialogOne();
                var objPage = new researchtopic.RTPaperRela_QUDIEx();
                objPage.btnPaperRecordInTab_Click(strKeyId);
            });
        }

        /*
      查询记录
     (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnPaperQuery_Click)
     */
        function btnPaperQuery_Click() {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (paper) {
                $("#Text1").val("进入函数：btnPaperQuery_Click");
                var objPage = new paper.RTPaperRela_QUDIEx();
                objPage.btnPaperQuery_Click();
            });
        }
        /////////////////////////////////////////////////////论文列表
        function closeTwo_Click() {

            HideDialogThree();
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogThree() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divPaperList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogThree() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divPaperList').modal('hide');
            });
        }
        /*
    修改记录
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_IndexPage)
    */
        function IndexPageTwo(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageTwo(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageTwo() {
            var intCurrPageIndex = $('#input_numberTwo').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageTwo(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageTwo() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageTwo(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumTwo(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageTwo(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageTwo() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageTwo(intPageIndex);
            });
        }





        //4.用户列表


        /*
    添加主题用户关系记录
    (AutoGCLib.WA_ViewScript_TS4CSharp:btnAddUserRela_Click)
    */
        function btnAddUserRela_Click() {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (researchtopic, commonfunc) {
                var strKeyId = commonfunc.clsCommonFunc4Web.GetFirstCheckedKeyId('divList');
                if (strKeyId == "") {
                    alert("请选择需要添加关系的记录！");
                    return;
                }
                //存放选择id
                $('#hidTopicRelaId').val(strKeyId);

                ShowDialogFour();
                //调用用户列表绑定；
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.btnAddUserRela_Click();



            });
        }

        /*
       确定选择用户数据
      (AutoGCLib.WA_ViewScript_TS4CSharp:btnUserRecordInTab_Click)
      */

        function btnUserRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }


                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.btnUserRecordInTab_Click(strKeyId);
            });
        }

        /*
     用户查询记录
    (AutoGCLib.WA_ViewScript_TS4CSharp:btnUserQuery_Click)
    */
        function btnUserQuery_Click() {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (paper) {
                $("#Text1").val("进入函数：btnUserQuery_Click");
                var objPage = new paper.ResearchTopic_QUDIEx();
                objPage.btnUserQuery_Click();
            });
        }



        function closeThree_Click() {

            HideDialogFour();
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogFour() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divUserList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogFour() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divUserList').modal('hide');
            });
        }
        /*
    修改记录
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_IndexPage)
    */
        function IndexPageThree(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageThree(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageThree() {
            var intCurrPageIndex = $('#input_numberThree').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageThree(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageThree() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageThree(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumThree(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageThree(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageThree() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageThree(intPageIndex);
            });
        }


        //rt/////////////////////////////////////主题用户关系
        function IndexPageFour(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageFour(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageFour() {
            var intCurrPageIndex = $('#input_numberFour').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageFour(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageFour() {
            var intCurrPageIndex = $('#hidCurrPageIndexUser').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageFour(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumFour(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageFour(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageFour() {
            var intCurrPageIndex = $('#hidCurrPageIndexUser').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageFour(intPageIndex);
            });
        }

        //rt/////////////////////////////////////主题论文关系
        function IndexPageFive(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageFive(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageFive() {
            var intCurrPageIndex = $('#input_numberFive').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageFive(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageFive() {
            var intCurrPageIndex = $('#hidCurrPageIndexPaper').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageFive(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumFive(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageFive(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageFive() {
            var intCurrPageIndex = $('#hidCurrPageIndexPaper').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.RTPaperRela_QUDIEx();
                objPage.IndexPageFive(intPageIndex);
            });
        }

        //rt/////////////////////////////////////主题观点关系

        function IndexPageSix(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageSix(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageSix() {
            var intCurrPageIndex = $('#input_numberSix').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageSix(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageSix() {
            var intCurrPageIndex = $('#hidCurrPageIndexViewpoint').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageSix(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumSix(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageSix(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageSix() {
            var intCurrPageIndex = $('#hidCurrPageIndexViewpoint').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageSix(intPageIndex);
            });
        }



        ////////////////////////////////////////////////主题概念关系//////////////////////////////////////////////

        function IndexPageSeven(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageSeven(intPageIndex);
            });
        }
        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageSeven() {
            var intCurrPageIndex = $('#input_numberSeven').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageSeven(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageSeven() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageSeven(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumSeven(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageSeven(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageSeven() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageSeven(intPageIndex);
            });
        }

        ////////////////////////////////////////////////////////////////////弹出概念列表；
        function closeSeven_Click() {

            HideDialogSeven();
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogSeven() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divConceptList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogSeven() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divConceptList').modal('hide');
            });

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });
        }
        ///////////////////////////////////////////////////////确定选择概念////////////////////////////////
        //选择概念方法
        function btnOkConceptInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }
                var objPage = new researchtopic.ResearchTopicConceptEx();
                objPage.btnOkConceptInTab_Click(strKeyId);
            });
        }


        /*
     在数据表里删除记录的事件函数
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function btnDelConceptRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (rtconceptrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtconceptrela.ResearchTopicConceptEx();
                objPage.btnDelConceptRecordInTab_Click(strKeyId);
            });
        }

        /*
    查询记录 观点 列表
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
    */
        function btnViewpointQuery_Click() {
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (rtconceptrela) {
                $("#Text1").val("进入函数：btnQuery_Click");
                var objPage = new rtconceptrela.ResearchTopicViewpointEx();
                objPage.btnViewpointQuery_Click();
            });
        }

        /*
     查询记录 概念列表  ResearchTopicConceptEx TS
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
    */
        function btnConceptQuery_Click() {
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (concept) {
                $("#Text1").val("进入函数：btnQuery_Click");
                var objPage = new concept.ResearchTopicConceptEx();
                objPage.btnConceptQuery_Click();
            });
        }


        /////////////////////////////////////////////////////主题客观关系

        function IndexPageEight(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicObjectiveEx();
                objPage.IndexPageEight(intPageIndex);
            });
        }
        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageEight() {
            var intCurrPageIndex = $('#input_numberEight').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicObjectiveEx();
                objPage.IndexPageEight(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageEight() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicObjectiveEx();
                objPage.IndexPageEight(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumEight(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicObjectiveEx();
                objPage.IndexPageEight(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageEight() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicObjectiveEx();
                objPage.IndexPageEight(intPageIndex);
            });
        }

        ////////////////////////////////////////////////////////////////////主题客观关系；
        function closeEight_Click() {

            HideDialogEight();
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogEight() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divObjectiveList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogEight() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divObjectiveList').modal('hide');
            });

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });
        }

        //删除客观事实
        function btnDelObjectiveRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx"], function (rtconceptrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtconceptrela.ResearchTopicObjectiveEx();
                objPage.btnDelObjectiveRecordInTab_Click(strKeyId);
            });
        }
        //删除客观数据
        function btnDelBasisObjectiveRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (rtconceptrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtconceptrela.ResearchTopicObjectiveEx();
                objPage.btnDelBasisObjectiveRecordInTab_Click(strKeyId);
            });
        }

        /*
    查询记录 客观列表查询功能  ResearchTopicObjectiveEx TS
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_btnQuery_Click)
    */
        function btnQueryObjective_Click() {
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (concept) {
                $("#Text1").val("进入函数：btnQuery_Click");
                var objPage = new concept.ResearchTopicObjectiveEx();
                objPage.btnQueryObjective_Click();
            });
        }




        //-----------------------------------------------------------------关于各个列表表头排序
        //用户表头排序
        function SortByUser(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopic_QUDIEx();
                objPage.SortByUser(strFldName);
            });
        }
        //主题用户关系表头排序
        function SortByRTUser(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopic_QUDIEx();
                objPage.SortByRTUser(strFldName);
            });
        }

        //论文表头排序
        function SortByPaper(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (viewpoint) {
                var objPage = new viewpoint.RTPaperRela_QUDIEx();
                objPage.SortByPaper(strFldName);
            });
        }
        //主题论文关系表头排序
        function SortByRTPaper(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (viewpoint) {
                var objPage = new viewpoint.RTPaperRela_QUDIEx();
                objPage.SortByRTPaper(strFldName);
            });
        }


        //个人观点 专家观点表头排序
        function SortByViewpoint(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicViewpointEx();
                objPage.SortByViewpoint(strFldName);
            });
        }

        //主题个人观点关系 表头排序
        function SortByRTViewpoint(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicViewpointEx();
                objPage.SortByRTViewpoint(strFldName);
            });
        }
        //主题专家观点 关系 表头排序
        function SortByRTExpertViewpoint(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicViewpointEx();
                objPage.SortByRTExpertViewpoint(strFldName);
            });
        }



        //概念表头排序
        function SortByConcept(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicConceptEx();
                objPage.SortByConcept(strFldName);
            });
        }
        //主题概念关系表头排序
        function SortByRTConcept(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicConceptEx();
                objPage.SortByRTConcept(strFldName);
            });
        }



        //客观事实 数据表头排序
        function SortByObjectiveFact(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicObjectiveEx();
                objPage.SortByObjectiveFact(strFldName);
            });
        }
        //主题客观事实关系 表头排序
        function SortByRTObjectiveFact(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicObjectiveEx();
                objPage.SortByRTObjectiveFact(strFldName);
            });
        }


        //主题客观数据关系  表头排序
        function SortByRTObjectiveBasis(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicObjectiveEx();
                objPage.SortByRTObjectiveBasis(strFldName);
            });
        }





        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_SortBy)
        */
        function SortBy(strFldName) {
            console.log("按：" + strFldName + "排序");
            require(["../js/GraduateEduTopic/SysSkillCRUDEx.js"], function (sysskill) {
                var objPage = new sysskill.SysSkillCRUDEx();
                objPage.SortBy(strFldName);
            });
        }

        ////弹出框的论文列表
        //function SortByPaperList(strFldName) {
        //    console.log("按：" + strFldName + "排序");
        //    require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (viewpoint) {
        //        var objPage = new viewpoint.ResearchTopic_QUDIEx();
        //        objPage.SortByPaperList(strFldName);
        //    });
        //}





        /////////////////////////////////////////////////////////////////////tab页切换事件///////////////////////////////////////////////////////////
        //小组成员
        function liUserClick() {
            var strnum = "1";
            $('#hidTabNum').val(strnum);
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopic_QUDIEx();
                objPage.liUserClick();
            });
        }
        //引用论文
        function liPaperClick(strKeyId) {
            var strnum = ""
            if (strKeyId == "01") {
                strnum = "2";
            }
            else {
                strnum = "12";
            }

            $('#hidPaperTypeId').val(strKeyId);
            $('#hidTabNum').val(strnum);
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (viewpoint) {
                var objPage = new viewpoint.RTPaperRela_QUDIEx();
                objPage.liPaperClick();
            });
        }
        //论文子观点
        function liPaperSubViewpoint() {
            var strnum = "15";
            $('#hidTabNum').val(strnum);
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduPublicPage/Public_PaperSubViewpoint.js"], function (viewpoint) {
                var objPage = new viewpoint.Public_PaperSubViewpoint();
                objPage.liPaperSubViewpoint();
            });
        }


        //个人观点
        function liViewpointClick() {
            $('#hidTabNum').val("3");
            $('#hidViewsTabNum').val("1");
            ClearClassificationTitle();
            liViewsClassificationClick();
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicViewpointEx();
                objPage.liViewpointClick();
            });


        }


        //专家观点
        function liExpertViewpointClick() {
            var strnum = "4";
            $('#hidTabNum').val(strnum);
            $('#hidViewsTabNum').val("2");
            ClearClassificationTitle();
            liViewsClassificationClick();
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduTopic/ResearchTopicViewpointEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicViewpointEx();
                objPage.liExpertViewpointClick();
            });

        }
        //相关概念
        function liConceptClick() {
            var strnum = "5";
            $('#hidTabNum').val(strnum);
            $('#hidViewsTabNum').val("3");
            ClearClassificationTitle();
            liViewsClassificationClick();
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicConceptEx();
                objPage.liConceptClick();
            });
        }
        //客观事实
        function liObjectiveFactClick() {
            var strnum = "6";
            $('#hidTabNum').val(strnum);
            $('#hidViewsTabNum').val("4");
            ClearClassificationTitle();
            liViewsClassificationClick();
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicObjectiveEx();
                objPage.liObjectiveFactClick();
            });
        }
        //客观数据
        function liObjectiveBasisClick() {
            var strnum = "7";
            $('#hidTabNum').val(strnum);
            $('#hidViewsTabNum').val("5");
            ClearClassificationTitle();
            liViewsClassificationClick();
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);
            require(["../js/GraduateEduTopic/ResearchTopicObjectiveEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicObjectiveEx();
                objPage.liObjectiveBasisClick();
            });
        }




        //技能
        function liSysskillClick() {
            var strnum = "9";
            $('#hidTabNum').val(strnum);
            $('#hidViewsTabNum').val("6");
            ClearClassificationTitle();
            liViewsClassificationClick();
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);

            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicSysskillEx();
                objPage.liSysskillClick();
            });
        }

        //社会关系
        function liSysSocialRelationsClick() {
            var strnum = "10";
            $('#hidTabNum').val(strnum);
            $('#hidViewsTabNum').val("7");
            ClearClassificationTitle();
            liViewsClassificationClick();
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);

            require(["../js/GraduateEduTopic/ResearchTopicSysSocialRelaEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicSysSocialRelaEx();
                objPage.liSysSocialRelationsClick();
            });
        }

        //教师布置任务
        function liTeacherTaskClick() {
            require(["../js/GraduateEduTopic/gs_TeacherTaskCRUDEx.js"], function (viewpoint) {
                var objPage = new viewpoint.gs_TeacherTaskCRUDEx();
                objPage.liTeacherTaskClick();
            });
        }

        //研究计划
        function liResearchPlanClick() {
            var strnum = "11";
            $('#hidTabNum').val(strnum);

            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);

            require(["../js/GraduateEduTopic/ResearchTopicPlanEx.js"], function (viewpoint) {
                var objPage = new viewpoint.ResearchTopicPlanEx();
                objPage.liResearchPlanClick();
            });
            liTeacherTaskClick();
        }
        /************************************************会议纪要****************************** */

        //会议纪要
        function liMeetingMinutesClick() {
            var strnum = "16";
            $('#hidTabNum').val(strnum);

            require(["../js/GraduateEduTopic/gs_MeetingMinutesCRUDEx.js"], function (MeetingMinutes) {
                var objPage = new MeetingMinutes.gs_MeetingMinutesCRUDEx();
                objPage.Page_Load();
            });
        }


        //会议纪要点击树菜单事件；
        function btnSelectMeetingMonth(strYear, strMonth) {
            //先清除背景色
            $(".submenu li a").removeClass("selected");
            //添加背景色
            $("#" + strYear + strMonth + " a").addClass("selected");
            //存储点击的id
            $("#hidYear").val(strYear);
            $("#hidMonth").val(strMonth);

            //点击后调整关系表数据方法；
            require(["../js/GraduateEduTopic/gs_MeetingMinutesCRUDEx.js"], function (MeetingMinutes) {
                var objPage = new MeetingMinutes.gs_MeetingMinutesCRUDEx();
                objPage.Bind_MeetingMinutesList();
            });
        }



        /*
    会议纪要修改；
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdategs_MeetingMinutes_Click(strKeyId) {

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (MeetingMinutes) {
                MeetingMinutes.ResearchTopic_QUDIEx.btn_Click("UpdateRecordInTab_gs_MeetingMinutes", strKeyId);
            });
        }


        /*会议纪要删除操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function btnDelgs_MeetingMinutes_Click(strKeyId) {
            require(["../js/GraduateEduTopic/gs_MeetingMinutesCRUDEx.js"], function (MeetingMinutes) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new MeetingMinutes.gs_MeetingMinutesCRUDEx();
                objPage.divName4Query = "divMeetingMinutes";
                objPage.btnDelRecordInTab_Click(strKeyId);
            });
        }

        /*会议纪要提交操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function Update_MeetingIsSubmit_Click(strKeyId, stata) {
            require(["../js/GraduateEduTopic/gs_MeetingMinutesCRUDEx.js"], function (MeetingMinutes) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new MeetingMinutes.gs_MeetingMinutesCRUDEx();
                objPage.divName4Query = "divMeetingMinutes";
                objPage.Update_MeetingIsSubmit_Click(strKeyId, stata);
            });
        }




        /****************************************************************************************** */
        /************************************************论文汇报****************************** */

        //论文汇报
        function liPaperReportClick() {
            var strnum = "17";
            $('#hidTabNum').val(strnum);

            require(["../js/GraduateEduTopic/gs_PaperReportCRUDEx.js"], function (PaperReport) {
                var objPage = new PaperReport.gs_PaperReportCRUDEx();
                objPage.Page_Load();
            });
        }


        //论文汇报点击树菜单事件；
        function btnSelectMonth(strYear, strMonth) {
            //先清除背景色
            $(".submenu li a").removeClass("selected");
            //添加背景色
            $("#" + strYear + strMonth + " a").addClass("selected");
            //存储点击的id
            $("#hidYear").val(strYear);
            $("#hidMonth").val(strMonth);

            //点击后调整关系表数据方法；
            require(["../js/GraduateEduTopic/gs_PaperReportCRUDEx.js"], function (PaperReport) {
                var objPage = new PaperReport.gs_PaperReportCRUDEx();
                objPage.Bind_PaperReportList();
            });
        }



        /*
    论文汇报修改；
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdategs_PaperReport_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (PaperReport) {
                PaperReport.ResearchTopic_QUDIEx.btn_Click("UpdateRecordInTab_gs_PaperReport", strKeyId);
            });
        }



        /*论文汇报删除操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function btnDelgs_PaperReport_Click(strKeyId) {
            require(["../js/GraduateEduTopic/gs_PaperReportCRUDEx.js"], function (PaperReport) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new PaperReport.gs_PaperReportCRUDEx();
                objPage.btnDelRecordInTab_Click(strKeyId);
            });
        }

        /*论文汇报提交操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function UpdateIsSubmit_Click(strKeyId, stata) {
            require(["../js/GraduateEduTopic/gs_PaperReportCRUDEx.js"], function (PaperReport) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new PaperReport.gs_PaperReportCRUDEx();
                objPage.UpdateIsSubmit_Click(strKeyId, stata);
            });
        }


        //下载方法
        function btnDownLoad_PaperReport_Click(filepath, filename) {
            var aLink = document.createElement('a');
            aLink.download = filename;
            aLink.href = filepath;
            document.body.appendChild(aLink);
            aLink.click();
            document.body.removeChild(aLink);
        }



        /****************************************************************************************** */
        /************************************************待研究问题****************************** */

        //待研究问题
        function liTobeStudiedProblemClick() {
            var strnum = "18";
            $('#hidTabNum').val(strnum);

            require(["../js/GraduateEduTopic/gs_TobeStudiedProblemCRUDEx.js"], function (TobeStudiedProblem) {
                var objPage = new TobeStudiedProblem.gs_TobeStudiedProblemCRUDEx();
                objPage.Page_Load();
            });
        }



        /*
    待研究问题修改；
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdategs_TobeStudiedProblem_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (TobeStudiedProblem) {
                TobeStudiedProblem.ResearchTopic_QUDIEx.btn_Click('UpdateRecordInTab_gs_TobeStudiedProblem', strKeyId);
            });
        }


        /*待研究问题删除操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function btnDelgs_TobeStudiedProblem_Click(strKeyId) {
            require(["../js/GraduateEduTopic/gs_TobeStudiedProblemCRUDEx.js"], function (TobeStudiedProblem) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new TobeStudiedProblem.gs_TobeStudiedProblemCRUDEx();
                objPage.divName4Query = "divTobeStudiedProblem";
                objPage.btnDelRecordInTab_Click(strKeyId);
            });
        }

        /*待研究问题提交操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function Update_ProblemIsSubmit_Click(strKeyId, stata) {
            require(["../js/GraduateEduTopic/gs_TobeStudiedProblemCRUDEx.js"], function (TobeStudiedProblem) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new TobeStudiedProblem.gs_TobeStudiedProblemCRUDEx();
                objPage.divName4Query = "divTobeStudiedProblem";
                objPage.Update_ProblemIsSubmit_Click(strKeyId, stata);
            });
        }


        /****************************************************************************************** */
        /************************************************各观点分类****************************** */
        //选择分类文件夹
        function btnClassification_Click(strKey, strClassificationName) {

            $("#hidClassificationId").val(strKey);
            var strViewsTabNum = $("#hidViewsTabNum").val();

            switch (strViewsTabNum) {
                case "1":
                    $("#ArrangeClassificationTitle1").html("当前分类：" + strClassificationName);
                    break;
                case "2":
                    $("#ArrangeClassificationTitle2").html("当前分类：" + strClassificationName);
                    break;
                case "3":
                    $("#ArrangeClassificationTitle3").html("当前分类：" + strClassificationName);
                    break;
                case "4":
                    $("#ArrangeClassificationTitle4").html("当前分类：" + strClassificationName);
                    break;
                case "5":
                    $("#ArrangeClassificationTitle5").html("当前分类：" + strClassificationName);
                    break;
                case "6":
                    $("#ArrangeClassificationTitle6").html("当前分类：" + strClassificationName);
                    break;
                case "7":
                    $("#ArrangeClassificationTitle7").html("当前分类：" + strClassificationName);
                    break;
                default:
                    $("#ArrangeClassificationTitle1").html("当前分类：" + strClassificationName);
            }

            ////var num = $('.main').index(this);
            //if (flag == true) {
            //    //$('.main').eq(num).css('background', 'url(../images/st_folder_open.gif) no-repeat left');
            //    //$('.submenu').eq(num).show(100);

            //    $('#' + strKey).css('background', 'url(../images/st_folder_open.gif) no-repeat left');
            //    $('#ul' + strKey).show();

            //    flag = false;



            //} else {
            //    //$('.main').eq(num).css('background', 'url(../images/st_folder.gif) no-repeat left');
            //    //$('.submenu').eq(num).hide(100);

            //    $('#' + strKey).css('background', 'url(../images/st_folder.gif) no-repeat left');
            //    $('#ul' + strKey).hide();

            //    flag = true;
            //}

            $("#hidViewsId").val("");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });
        }

        //分类观点树菜单事件；
        function btnSelectViews(strKeyId, strClassificationId) {
            //先清除背景色
            $(".submenu li a").removeClass("selected");
            //添加背景色
            $("#" + strKeyId + " a").addClass("selected");
            //存储点击的id
            $("#hidViewsId").val(strKeyId);
            $("#hidClassificationId").val(strClassificationId);

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });
        }

        //清空分类
        function btnClearClassification_Click(ClassificationId) {

            if (ClassificationId == "0000000000") {
                $("#hidViewsId").val("");
                $("#hidClassificationId").val("0000000000");

            } else {
                $("#hidViewsId").val("");
                $("#hidClassificationId").val("");
            }
            ClearClassificationTitle();
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });


        }

        function ClearClassificationTitle() {
            $("#hidEditClassificationId").val("0");
            $("#ArrangeClassificationTitle1").html("");
            $("#ArrangeClassificationTitle2").html("");
            $("#ArrangeClassificationTitle3").html("");
            $("#ArrangeClassificationTitle4").html("");
            $("#ArrangeClassificationTitle5").html("");
            $("#ArrangeClassificationTitle6").html("");
            $("#ArrangeClassificationTitle7").html("");
        }

        //各观点分类
        function liViewsClassificationClick() {

            require(["../js/GraduateEduTopic/gs_ViewsClassificationCRUDEx.js"], function (ViewsClassification) {
                var objPage = new ViewsClassification.gs_ViewsClassificationCRUDEx();
                objPage.Page_Load();
            });
        }


        //添加 各观点分类
        function btnAddNewClassification_Click() {

            require(["../js/GraduateEduTopic/gs_ViewsClassificationCRUDEx.js"], function (ViewsClassification) {
                ViewsClassification.gs_ViewsClassificationCRUDEx.btn_Click("Create");
            });
        }

        /*
    各观点分类修改；
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdategs_ViewsClassification_Click(strKeyId) {
              require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (ViewsClassification) {
                ViewsClassification.ResearchTopic_QUDIEx.btn_Click("UpdateRecordInTab_gs_ViewsClassification", strKeyId);
            });
        }


        /*各观点分类删除操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function btnDelgs_ViewsClassification_Click(strKeyId) {
            require(["../js/GraduateEduTopic/gs_ViewsClassificationCRUDEx.js"], function (ViewsClassification) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new ViewsClassification.gs_ViewsClassificationCRUDEx();
                objPage.btnDelRecordInTab_Click(strKeyId);
            });
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogClassification() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#editClassification').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogClassification() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#editClassification').modal('hide');
            });
        }

        //各个观点加入分类
        function btnAddClassificationRecordInTab_Click(strKey) {
            $("#hidViewsMId").val(strKey);
            $("#ddlClassificationId").val("0");

            ShowDialogClassification();

            //require(["../js/GraduateEduTopic/gs_ViewsClassificationCRUDEx.js"], function (ViewsClassification) {
            //    var objPage = new ViewsClassification.gs_ViewsClassificationCRUDEx();
            //    objPage.btnAddClassificationRecordInTab_Click(strKey);
            //});

        }

        //各个观点调整分类
        function btnUpdateClassificationRecordInTab_Click(strKey, strClassificationId) {
            $("#hidViewsMId").val(strKey);
            $("#ddlClassificationId").val(strClassificationId);

            ShowDialogClassification();

        }



        //提交观点分类
        function SubmiClassification_Click() {

            if ($('#ddlClassificationId').val() != "0") {

                //$("#hidClassificationId").val(strClassificationId);
                //require(["../js/GraduateEduTopic/gs_ViewsClassificationCRUDEx.js"], function (ViewsClassification) {
                //    ViewsClassification.gs_ViewsClassificationCRUDEx.SubmiClassification_Click();
                //});
                require(["../js/GraduateEduTopic/gs_ViewsClassificationCRUDEx.js"], function (ViewsClassification) {
                    var objPage = new ViewsClassification.gs_ViewsClassificationCRUDEx();
                    objPage.SubmiClassification_Click();
                });
            } else {
                layui_Alert(2, "请选择分类！");
            }


        }

        /****************************************************************************************** */
        /************************************************研究成果****************************** */

        //研究成果
        function liResearchResultClick() {
            var strnum = "19";
            $('#hidTabNum').val(strnum);

            require(["../js/GraduateEduTopic/gs_ResearchResultCRUDEx.js"], function (ResearchResult) {
                var objPage = new ResearchResult.gs_ResearchResultCRUDEx();
                objPage.Page_Load();
            });
        }


        /*
    研究成果修改；
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdategs_ResearchResult_Click(strKeyId) {

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (ResearchResult) {
                ResearchResult.ResearchTopic_QUDIEx.btn_Click("UpdateRecordInTab_gs_ResearchResult", strKeyId);
            });
        }



        /*研究成果删除操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function btnDelgs_ResearchResult_Click(strKeyId) {
            require(["../js/GraduateEduTopic/gs_ResearchResultCRUDEx.js"], function (ResearchResult) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new ResearchResult.gs_ResearchResultCRUDEx();
                objPage.divName4Query = "ResearchResultContent";
                objPage.btnDelRecordInTab_Click(strKeyId);
            });
        }

        /*研究成果提交操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function UpdateIsSubmit_Click(strKeyId, stata) {
            require(["../js/GraduateEduTopic/gs_ResearchResultCRUDEx.js"], function (ResearchResult) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new ResearchResult.gs_ResearchResultCRUDEx();
                objPage.UpdateIsSubmit_Click(strKeyId, stata);
            });
        }


        //下载方法
        function btnDownLoad_ResearchResult_Click(filepath, filename) {
            var aLink = document.createElement('a');
            aLink.download = filename;
            aLink.href = filepath;
            document.body.appendChild(aLink);
            aLink.click();
            document.body.removeChild(aLink);

        }




        /****************************************************************************************** */
        //反思日志
        function ligs_ReflectLog() {
            var strnum = "13";
            $('#hidTabNum').val(strnum);
            //var x = $('#hidTabNum').val();
            //localStorage.setItem("hid", x);

            //require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (viewpoint) {
            //    var objPage = new viewpoint.ResearchTopic_QUDIEx();
            //    objPage.ligs_ReflectLog();
            //});
            require(["../js/GraduateEduTopic/gs_ReflectLogCRUDEx.js"], function (viewpoint) {
                var objPage = new viewpoint.gs_ReflectLogCRUDEx();
                objPage.BindGv_gs_ReflectLog();
            });
        }


        //答疑事件
        //function liQAClick() {
        //    var strnum = "14";
        //    $('#hidTabNum').val(strnum);
        //    var x = $('#hidTabNum').val();
        //    localStorage.setItem("hid", x);
        //    require(["../js/GraduateEduTopic/ResearchTopicQAEx.js"], function (qa_paper) {
        //        var objPage = new qa_paper.ResearchTopicQAEx();
        //        objPage.Page_Load();
        //    });
        //}


        //-------------------------------------------------------------------研究结果；

        function IndexPageNine(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageNine(intPageIndex);
            });
        }
        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageNine() {
            var intCurrPageIndex = $('#input_numberNine').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageNine(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageNine() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageNine(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumNine(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageNine(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageNine() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicConceptEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicConceptEx();
                objPage.IndexPageNine(intPageIndex);
            });
        }



        //-------------------------------------------------------------------技能；

        function IndexPageTen(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicSysskillEx();
                objPage.IndexPageTen(intPageIndex);
            });
        }
        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageTen() {
            var intCurrPageIndex = $('#input_numberTen').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicSysskillEx();
                objPage.IndexPageTen(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageTen() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicSysskillEx();
                objPage.IndexPageTen(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumTen(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicSysskillEx();
                objPage.IndexPageTen(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageTen() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopicSysskillEx();
                objPage.IndexPageTen(intPageIndex);
            });
        }

        //删除技能主题关系
        function btnDelSysskillRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (rtviewpointrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtviewpointrela.ResearchTopicSysskillEx();
                objPage.btnDelSysskillRecordInTab_Click(strKeyId);
            });
        }



        //确定选择技能方法
        function btnOkSysskillInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }
                var objPage = new researchtopic.ResearchTopicSysskillEx();
                objPage.btnOkSysskillInTab_Click(strKeyId);
            });
        }

        //技能查询方法；
        function btnQuerySysskill_Click() {
            require(["../js/GraduateEduTopic/ResearchTopicSysskillEx.js"], function (researchtopic) {

                var objPage = new researchtopic.ResearchTopicSysskillEx();
                objPage.btnQuerySysskill_Click();
            });
        }



        function closeNine_Click() {

            HideDialogNine();
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogNine() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divSysSkillList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogNine() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divSysSkillList').modal('hide');
            });

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });
        }

        ///添加技能数据按钮
        function btnAddSysskillClickBak() {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {


                xadminOpen_Width_Height('添加技能数据', '../GraduateEduPublicPage/AddSysskill?TopicId=' + strKeyId, 1200, 800);
            }

        }



        ///修改技能
        function btnUpdSysskill_ClickBak(strSkillId) {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {


                xadminOpen_Width_Height('修改技能', '../GraduateEduPublicPage/AddSysskill?TopicId=' + strKeyId + '&SkillId=' + strSkillId, 1200, 800);
            }

        }

        //-------------------------------------------------------------------社会关系；

        function IndexPageEleven(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageEleven(intPageIndex);
            });
        }
        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_JumpToPage)
        */
        function JumpToPageEleven() {
            var intCurrPageIndex = $('#input_numberEleven').val();
            var intPageIndex = Number(intCurrPageIndex);
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageEleven(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_NextPage)
        */
        function NextPageEleven() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) + 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageEleven(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PageNum)
        */
        function PageNumEleven(intPageIndex) {
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageEleven(intPageIndex);
            });
        }

        /*
         修改记录
        (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_PrevPage)
        */
        function PrevPageEleven() {
            var intCurrPageIndex = $('#hidCurrPageIndex').val();
            var intPageIndex = Number(intCurrPageIndex) - 1;
            console.log("跳转到" + intPageIndex + "页");
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (subviewpoint) {
                var objPage = new subviewpoint.ResearchTopic_QUDIEx();
                objPage.IndexPageEleven(intPageIndex);
            });
        }

        //删除社会关系
        function btnDelRTSysSocialRelaRecordInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicSysSocialRelaEx.js"], function (rtviewpointrela) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new rtviewpointrela.ResearchTopicSysSocialRelaEx();
                objPage.btnDelRTSysSocialRelaRecordInTab_Click(strKeyId);
            });
        }




        //确定选择社会关系方法
        function btnOkRTSysSocialRelaInTab_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicSysSocialRelaEx.js"], function (researchtopic) {
                if (strKeyId == "") {
                    alert("请选择需要的记录！");
                    return;
                }
                var objPage = new researchtopic.ResearchTopicSysSocialRelaEx();
                objPage.btnOkRTSysSocialRelaInTab_Click(strKeyId);
            });
        }

        //社会关系查询方法；
        function btnQuerySysSocialRelations_Click() {
            require(["../js/GraduateEduTopic/ResearchTopicSysSocialRelaEx.js"], function (researchtopic) {

                var objPage = new researchtopic.ResearchTopicSysSocialRelaEx();
                objPage.btnQuerySysSocialRelations_Click();
            });
        }



        function closeTen_Click() {

            HideDialogTen();
        }

        /*
    显示对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_ShowDialog)
    */
        function ShowDialogTen() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divSysSocialRelationsList').modal('show');
            });
        }

        /*
    隐藏对话框
    (AutoGCLib.WA_ViewScript_TS4CSharp:Gen_WApi_JS_HideDialog)
    */
        function HideDialogTen() {
            require(['jquery', 'bootstrap'], function ($) {
                $('#divSysSocialRelationsList').modal('hide');
            });

            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.GetAllFunctionMethod();
            });
        }


        ///添加技能数据按钮
        function btnAddSysSocialRelaClickBak() {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {


                xadminOpen('添加社会关系数据', '../GraduateEduPublicPage/AddSysSocialRelations?TopicId=' + strKeyId, 1200, 800);
            }

        }
        ///修改社会关系
        function btnUpdSyssocial_ClickBak(strSocialId) {
            var strKeyId = $('#hidTopicRelaId').val();

            if (strKeyId == "") {
                alert("请选择需要添加关系的主题！");
                return;
            }
            else {


                xadminOpen_Width_Height('修改社会关系', '../GraduateEduPublicPage/AddSysSocialRelations?TopicId=' + strKeyId + '&SocialId=' + strSocialId, 1200, 800);
            }

        }




        ///////////////////---------------------------------------------------------- 研究计划


        /*
     在数据表里修改记录
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdateResearchPlan_ClickBak(strPlanId) {
            //require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (gs_researchplan) {
            var strKeyId = $('#hidTopicRelaId').val();
            if (strKeyId == "") {
                alert("请选择数据！");
                return;
            }
            //var objPage = new gs_researchplan.ResearchTopic_QUDIEx();
            //objPage.btnUpdateRecordInTab_Click(strKeyId);
            xadminOpen_Width_Height('修改研究计划', '../GraduateEduPublicPage/AddResearchPlan?TopicId=' + strKeyId + '&PlanId=' + strPlanId, 1200, 800);
            //  });
        }








        /*
    反思日志 修改；
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdategs_ReflectLog_Click(strKeyId) {

            require(["../js/GraduateEduTopic/gs_ReflectLogCRUDEx.js"], function (gs_reflectlog) {
                if (strKeyId == "") {
                    alert("请选择需要修改的记录！");
                    return;
                }
                var objPage = new gs_reflectlog.gs_ReflectLogCRUDEx();
                objPage.btnUpdateRecordInTab_Click(strKeyId);
            });
        }




        /*
     教师任务布置 修改；
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
    */
        function btnUpdategs_TeacherTask_Click(mId) {
            //require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (gs_researchplan) {
            var strKeyId = $('#hidTopicRelaId').val();
            var strId_CurrEduClsId = $('#hidId_CurrEduCls').val();
            if (strKeyId == "") {
                alert("请选择数据！");
                return;
            }
            //var objPage = new gs_researchplan.ResearchTopic_QUDIEx();
            //objPage.btnUpdateRecordInTab_Click(strKeyId);
            xadminOpen_Width_Height('修改任务', '../GraduateEduPublicPage/Addgs_TeacherTask?TopicId=' + strKeyId + '&mId=' + mId, 1200, 800);
            //  });
        }


        /*
        在数据表里删除记录的事件函数
       (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
       */
        function btnDelResearchPlan_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicPlanEx.js"], function (gs_researchplan) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new gs_researchplan.ResearchTopicPlanEx();
                objPage.btnDelResearchPlan_Click(strKeyId);
            });
        }

        /*
     删除教师任务
     (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
     */
        function btnDelgs_TeacherTask_Click(strKeyId) {
            require(["../js/GraduateEduTopic/gs_TeacherTaskCRUDEx.js"], function (gs_researchplan) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new gs_researchplan.gs_TeacherTaskCRUDEx();
                objPage.divName4Query="li_ResearchPlan";
                objPage.btnDelgs_TeacherTask_Click(strKeyId);
            });
        }
        /*
    反思删除操作
    (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnDelRecordInTab_Click)
    */
        function btnDelgs_ReflectLog_Click(strKeyId) {
            require(["../js/GraduateEduTopic/gs_ReflectLogCRUDEx.js"], function (gs_researchplan) {
                if (strKeyId == "") {
                    alert("请选择需要删除的记录！");
                    return;
                }
                var objPage = new gs_researchplan.gs_ReflectLogCRUDEx();
                objPage.btnDelRecordInTab_Click(strKeyId);
            });
        }


        //研究计划提交
        function btnSubmitResearchPlan_Click(strKeyId) {
            require(["../js/GraduateEduTopic/ResearchTopicPlanEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (viewpoint, commonfunc) {

                if (strKeyId == "") {
                    alert("请选择需要提交的记录！");
                    return;
                }
                //ShowDialog('Update');
                var objPage = new viewpoint.ResearchTopicPlanEx();
                objPage.btnSubmitResearchPlan_Click(strKeyId);
            });
        }


        //小组写作论文 提交
        function btnIsSubmitPaper_Click(strKeyId) {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (viewpoint, commonfunc) {

                if (strKeyId == "") {
                    alert("请选择需要提交的记录！");
                    return;
                }
                //ShowDialog('Update');
                var objPage = new viewpoint.RTPaperRela_QUDIEx();
                objPage.btnIsSubmitPaper_Click(strKeyId);
            });
        }
        //小组写作论文 公开
        function btnIsPublicPaper_Click(strKeyId) {
            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js", "../js/TS/PubFun/clsCommonFunc4Web.js"], function (viewpoint, commonfunc) {

                if (strKeyId == "") {
                    alert("请选择需要提交的记录！");
                    return;
                }
                //ShowDialog('Update');
                var objPage = new viewpoint.RTPaperRela_QUDIEx();
                objPage.btnIsPublicPaper_Click(strKeyId);
            });
        }


        /**************************************答疑相关事件***********************************/
        /*
         答疑相关事件
        (AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btn_Click)
        */
        // function btn_Click(strCommandName, strKeyId) {
        //     require(["../js/GraduateEduTopic/ResearchTopicQAEx.js"], function (qa_paper) {
        //         qa_paper.ResearchTopicQAEx.btn_Click(strCommandName, strKeyId);
        //         //var objPage = new qa_paper.ResearchTopicQAEx();
        //         //objPage.btn_Click(strCommandName, strKeyId);
        //     });
        // }




        // function btnPaperQARecordInTab_Click(strKeyId) {
        //     require(["../js/GraduateEduTopic/ResearchTopicQAEx.js"], function (qa_paper) {
        //         if (strKeyId == "") {
        //             alert("请选择需要的记录！");
        //             return;
        //         }
        //         //ShowDialogOne();
        //         var objPage = new qa_paper.ResearchTopicQAEx();
        //         objPage.btnPaperRecordInTab_Click(strKeyId);
        //     });
        // }


        // /*
        //答疑列表进入pdf答疑
        //(AutoGCLib.WA_ViewScript_TS4Html:Gen_WApi_JS_btnUpdateRecordInTab_Click)
        //*/
        // function btnQARecord_Click(strKeyId) {
        //     require(["../js/GraduateEduTopic/ResearchTopicQAEx.js"], function (qa_paper) {
        //         if (strKeyId == "") {
        //             alert("请选择需要修改的记录！");
        //             return;
        //         }
        //         var objPage = new qa_paper.ResearchTopicQAEx();
        //         objPage.btnQARecord_Click(strKeyId);
        //     });
        // }

        //自研论文
        function xadminopen(strFile) {
            xadmin.open('小组论文答疑', strFile, '', '', true)

        }


        function xadminopen2(title, strFile, intWidth, intHeight) {
            xadmin.open(title, strFile, intWidth, intHeight, true)

        }
        //跳转到主题PDF页面
        function btnTopicPdf_ClickBak() {
            var strTopicId = $('#hidTopicRelaId').val();
            var strId_CurrEduCls = $('#hidId_CurrEduCls').val();
            var strUrl = "../InteractManage/Pdf_QA_Topic?id_CurrEduCls=" + strId_CurrEduCls + "&TopicId=" + strTopicId;

            xadminopen(strUrl);

        }



        //申请添加主题
        function btnApplyAddNewRecord_Click() {
            xadminOpen('申请添加主题', '../GraduateEduTopic/ApplyTopic');
        }

        setInterval('Bind_ApplyTopicCount()', 300000);  //指定300s刷新一次5分
        function Bind_ApplyTopicCount() {
            require(["../js/GraduateEduTopic/ResearchTopic_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.ResearchTopic_QUDIEx();
                objPage.Bind_ApplyTopicCount();
            });
        }


        //其它主题
        function TopicList_Click() {
            xadmin.open('主题查看', '../GraduateEduTopic/ResearchTopicList', '', '', true);
        }


        //参与答疑
        function btnParticipateQA_ClickBak(strKeyId) {

            require(["../js/GraduateEduTopic/RTPaperRela_QUDIEx.js"], function (researchtopic) {
                var objPage = new researchtopic.RTPaperRela_QUDIEx();
                objPage.btnParticipateQA_Click(strKeyId);
            });
        }

        //参与答疑
        function ParticipateQA_ClickBak(strPaperId) {

            var strTopicId = $('#hidTopicRelaId').val();
            xadminOpen('教师提问', '../GraduateEduEx/PaperSubViewpoint_pdf?Type=01&PaperId=' + strPaperId + '&TopicId=' + strTopicId + '&QuestionsTypeId=02');

        }

        /**子观点_选择论文 */
        function SelectPaper() {
            require(["../js/GraduateEduPublicPage/Public_PaperSubViewpoint.js"], function (researchtopic) {
                var objPage = new researchtopic.Public_PaperSubViewpoint();
                objPage.SelectPaper();
            });
        }

        //信息提示
        function layui_Alert(iconKey, strMsg) {

            layer.msg(strMsg, {
                icon: iconKey,
                time: 2000
            });
        }

</script>

<div id="divLoading" class="loading">
    <img src="~/images/CirclePoint.gif" />
</div>

<div id="tabLayout" class="tab_layout">
    @*-- 标题层 --*@

    <div class="x-nav">
        <span class="layui-breadcrumb">
            <a href="">首页</a>
            <a href="">主题研究管理</a>
            <a>
                <cite>主题维护</cite>
            </a>
            <Label id="lblMsg_List" name="lblMsg_List"></Label>
        </span>
        <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin:0px 0px 0px 5px; float:right" onclick="location.reload()" title="刷新">
            <i class="layui-icon layui-icon-refresh" style="line-height:30px"></i>
        </a>
    </div>
    @*-- 查询层 --*@

    <div id="divQuery" class="div_query">
        <table id="tabQuery" name="tabQuery" style="width: 20%; " class="table table-bordered table-hover table td table-sm">
            <tr>
                <td>
                    <input id="txtTopicName_q" name="txtTopicName_q" placeholder="栏目主题" class="layui-input" style="width:300px;" />
                </td>

                @*<td>
                    <input id="txtTopicProposePeople_q" name="txtTopicProposePeople_q" placeholder="主题提出人" class="layui-input" style="width:200px;" />
                    </td>*@
                <td>
                    <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnQuery_Click()">
                        <i class="layui-icon">&#xe615;</i>
                    </button>
                </td>
            </tr>
        </table>
    </div>
    <div>
        <div style="float:left; width:25%;">
            <div id="divFunction" class="layui-card-header">
                <div style="float:left;">
                    您参与的主题有:
                </div>
                <div style="float:left;" class="btn-group btn-group-sm">
                    <button class="btn btn-success" id="btnAddNewRecord" name="btnAddNewRecord" title="添加研究主题" onclick="btn_Click('AddNewRecord')"><i class="layui-icon">&#xe654;</i></button>
                    <button class="btn btn-danger" id="btnDelRecord" name="btnDelRecord" title="删除研究主题" onclick="btn_Click('DelResearchTopic')"><i class="layui-icon">&#xe640;</i></button>
                    <button class="btn btn-info" id="btnUpdateRecord" name="btnUpdateRecord" title="修改研究主题" onclick="btn_Click('UpdateRecord')"><i class="layui-icon">&#xe642;</i></button>

                    <button class="btn btn-warning" id="btnRoleTool" name="btnRoleTool" title="主题权限设置" onclick="btn_Click('RoleTool')"><i class="layui-icon">&#xe614;</i></button>
                </div>
                <div style="float:right;" class="btn-group btn-group-sm">
                    <button class="btn btn-primary" id="btnApplyAddNewRecord" name="btnApplyAddNewRecord" title="主题申请" onclick="btnApplyAddNewRecord_Click()"><i class="layui-icon">&#xe679;</i>主题申请 <span id="ApplyTopicCount" class="layui-badge">0</span></button>

                </div>
            </div>
        </div>
        <div style="float:right; width:74%; margin-right:10px;">
            <div class="alert alert-info alert-dismissible">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <strong>本界面功能：</strong>可以维护自己参与的主题，以及主题下面各个模块的操作，主要是把其他相关内容和主题建立联系！
            </div>
        </div>
    </div>


    @*-- 列表层 --*@

    @*-- 分左右2个区域 --*@
    <div>
        <div id="divTree" class="divTree divTree2">

            <ul class="st_tree" id="TreeBind">
                @*<li class="li">
                    <a href="#" class="main">主题</a>
                    <ul class="submenu" id="TreeBind"></ul>
                    </li>*@
            </ul>


        </div>
        <div id="divContent" class="divContent divContent2">
            <div id="divContent_list">
                <ul id="myTab" class="nav nav-tabs" role="tablist">
                    <li id="liUser" class="nav-item">
                        <a class="nav-link active" href="#li_User" data-toggle="tab" onclick="liUserClick()">小组成员</a>
                    </li>
                    <li id="liResearchPlan" class="nav-item">
                        <a class="nav-link" href="#li_ResearchPlan" data-toggle="tab" onclick="liResearchPlanClick()">计划</a>
                    </li>

                    <li id="ligs_ReflectLog" class="nav-item">
                        <a class="nav-link" href="#li_gsReflectLog" data-toggle="tab" onclick="ligs_ReflectLog()">反思</a>
                    </li>
                    <li id="liPaper" class="nav-item">
                        <a class="nav-link" href="#li_Paper" data-toggle="tab" onclick="liPaperClick('01')">论文</a>
                    </li>
                    <li id="liSubViewpoint" class="nav-item">
                        <a class="nav-link" href="#li_PaperSubViewpoint" data-toggle="pill" onclick="liPaperSubViewpoint()">论文子观点</a>
                    </li>
                    @*<li id="liQAPaper" class="nav-item">
                        <a class="nav-link" href="#li_QA" data-toggle="tab" onclick="liQAClick()">答疑标注</a>
                        </li>*@


                    <li id="liAllViewpoint" class="nav-item">
                        <a class="nav-link" href="#li_AllViewpoint" data-toggle="tab" onclick="liViewpointClick()">主题各观点</a>
                    </li>

                    <li id="liOriginalPaper" class="nav-item">
                        <a class="nav-link" href="#li_OriginalPaper" data-toggle="tab" onclick="liPaperClick('02')">小组论文写作</a>
                    </li>


                    <li id="liMeetingMinutes" class="nav-item">
                        <a class="nav-link" href="#li_MeetingMinutes" data-toggle="tab" onclick="liMeetingMinutesClick()">会议纪要</a>
                    </li>
                    <li id="liPaperReport" class="nav-item">
                        <a class="nav-link" href="#li_PaperReport" data-toggle="tab" onclick="liPaperReportClick()">论文汇报</a>
                    </li>
                    <li id="liTobeStudiedProblem" class="nav-item">
                        <a class="nav-link" href="#li_TobeStudiedProblem" data-toggle="tab" onclick="liTobeStudiedProblemClick()">待研究问题</a>
                    </li>
                    <li id="liResearchResult" class="nav-item">
                        <a class="nav-link" href="#li_ResearchResult" data-toggle="tab" onclick="liResearchResultClick()">研究成果</a>
                    </li>

                </ul>
                <div id="myTabContent" class="tab-content">
                    @*-- 上 用户 --*@

                    <div class="tab-pane active" id="li_User" style="padding:5px;">
                        <div id="divFunction" style="float:right;margin-right:0px;">
                            <ul class="nav">
                                <li class="nav-item">
                                    <Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info">

                                    </Label>
                                </li>
                                <li class="nav-item ml-3">
                                    <button class="layui-btn" onclick="btn_Click('AddRelaUsers')"><i class="layui-icon"></i>选择用户</button>
                                </li>
                            </ul>
                        </div>

                        <div id="divRtUserRela" class="div_List">
                            <div id="divRtUserRelaDataLst" class="div_List">
                            </div>
                            @*<div id="divPagerUser" class="pager" value="1">
                                @Html.Partial("~/Pages/PubWebClass/pageFour.cshtml")
                                </div>*@
                        </div>
                    </div>


                    @*-- 计划--*@
                    <div class="tab-pane fade" id="li_ResearchPlan" style="padding:5px;">
                        <div id="divFunction" style="float:right;margin-right:0px;">
                            <ul class="nav">
                                <li class="nav-item">
                                    <Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info">

                                    </Label>
                                </li>
                                <li class="nav-item ml-3">
                                    <button id="btnAddgs_TeacherTask" name="btnAddgs_TeacherTask" class="layui-btn" onclick="btn_Click('Addgs_TeacherTask')"><i class="layui-icon"></i>布置任务</button>
                                </li>


                            </ul>
                        </div>

                        <div id="divgs_TeacherTask" class="div_List">
                            <div id="divgs_TeacherTaskDataLst" class="div_List">
                            </div>
                            <div id="divgs_TeacherTask" class="pager" value="1" style="display:none;">
                            </div>
                        </div>
                        <br /><hr />

                        <div id="divFunction" style="float:right;margin-right:0px;">
                            <ul class="nav">
                                <li class="nav-item">
                                    <Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info">

                                    </Label>
                                </li>
                                <li class="nav-item ml-3">
                                    <button id="btnAddNewRecord" name="btnAddNewRecord" class="layui-btn" onclick="btn_Click('AddResearchPlan')"><i class="layui-icon"></i>添加计划</button>
                                </li>
                            </ul>
                        </div>

                        <div id="divResearchPlan" class="div_List">
                            <div id="divResearchPlanDataLst" class="div_List">
                            </div>
                            <div id="divPagerResearchPlan" class="pager" value="1" style="display:none;">
                            </div>
                        </div>
                    </div>





                    @*-- 反思 li_gsReflectLog--*@
                    <div class="tab-pane fade" id="li_gsReflectLog">
                        <div id="divFunction" style="float:right;margin-right:0px;">
                            <ul class="nav">
                                <li class="nav-item">
                                    <Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info" style="width:100%;">

                                    </Label>
                                </li>

                                <li class="nav-item ml-3" style="float:right;">
                                    <button class="layui-btn" onclick="btn_Click('Addgs_ReflectLog')"><i class="layui-icon"></i>添加反思</button>
                                </li>

                            </ul>
                        </div>
                        <div id="divgsReflectLog" class="div_List">
                            <div id="divgsReflectLogDataLst" class="div_List">
                            </div>
                            <div id="divPagergsReflectLog" class="pager" value="1" style="display:none;">
                            </div>
                        </div>

                        <div id="divEdit" tabindex="-1">
                        </div>
                    </div>



                    @*-- 论文--*@
                    <div class="tab-pane fade" id="li_Paper">
                        <div id="divFunction" style="float:right;margin-right:0px;margin-top:10px;">
                            <ul class="nav">
                                <li class="nav-item">
                                    <Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info" style="width:100%;">

                                    </Label>
                                </li>
                                <li class="nav-item ml-3" style="float:right;">
                                    <button class="layui-btn" onclick="btn_Click('AddNewPaperRela')"><i class="layui-icon"></i>添加论文</button>

                                </li>
                                <li class="nav-item ml-3" style="float:right;">
                                    <button class="layui-btn" onclick="btn_Click('AddRelaPaper')"><i class="layui-icon"></i>选择引用论文</button>

                                </li>
                            </ul>
                        </div>
                        <div id="divRtPaperRela" class="div_List">
                            @*<div id="divRtPaperRelaDataLst" class="div_List"></div>*@
                            @*<div id="divRtCitedPaperRelaDataLst" class="div_List"></div>*@
                            <div id="divRtCitedPaperRelaDataLst">
                                <div class="layui-row layui-col-space15">
                                    <div class="layui-col-md12">
                                        <div class="layui-card">
                                            <div class="layui-card-body ">
                                                <table class="layui-table layui-form">
                                                    <thead>
                                                        <tr>
                                                            <th width="50">标识</th>
                                                            <th width="320">论文标题</th>
                                                            <th width="160">作者</th>
                                                            <th width="110">编辑日期</th>
                                                            <th width="80">编辑用户</th>
                                                            <th width="100">统计</th>
                                                            <th width="80">操作</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tbPaperRelaDataLst" class="x-cate"></tbody>
                                                </table>
                                            </div>
                                            <div id="divPagerPaper" class="pager" value="1">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>

                    @*-- 论文子观点 --*@
                    <div class="tab-pane fade" id="li_PaperSubViewpoint">
                        <div id="divFunction" style="margin-top:10px;">
                            @*<ul class="nav">
                                <li class="nav-item">
                                <Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info" style="width:100%;">

                                </Label>
                                </li>
                                <li class="nav-item ml-3" style="float:right; margin-top:10px;">


                                </li>

                                </ul>*@
                            <div style="float:left;">
                                <table id="tabQuery" name="tabQuery" style="width: 50%; " class="table table-bordered table-hover table td table-sm">
                                    <tr>
                                        <td class="ValueTD">
                                            <select id="ddlPaperId_q" name="ddlPaperId_q" class="form-control" style="width:500px;" onchange="SelectPaper()" />
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <div style="float:right;">
                                <button class="layui-btn" onclick="btn_Click('AddpdfPaperSubViewpoint')"><i class="layui-icon"></i>添加维护论文子观点</button>
                            </div>
                        </div>

                        <div id="div_SubViewpointList">
                            <div class="layui-row layui-col-space15">
                                <div class="layui-col-md12">
                                    <div class="layui-card">
                                        <div class="layui-card-body ">
                                            <table class="layui-table layui-form">
                                                <thead>
                                                    <tr>

                                                        <th>观点内容</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tbList" class="x-cate"></tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    @*-- 自研论文--*@
                    <div class="tab-pane fade" id="li_OriginalPaper">
                        <div id="divFunction" style="float:right;margin-right:0px;">
                            <ul class="nav">
                                <li class="nav-item">
                                    <Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info" style="width:100%;">

                                    </Label>
                                </li>
                                <li class="nav-item ml-3" style="float:right;">
                                    <button class="layui-btn" onclick="btn_Click('AddNewgs_PaperRela')"><i class="layui-icon"></i>添加小组论文写作</button>

                                </li>

                            </ul>
                        </div>
                        <div id="divRtPaperRela_OriginalPaper" class="div_List">
                            <div id="divRtOriginalPaperRelaDataLst" class="div_List">
                            </div>
                            <div id="divPagerPaper_OriginalPaper" class="pager" value="1" style="display:none;">
                            </div>
                        </div>
                    </div>


                    @* 主题各观点 *@
                    <div class="tab-pane fade" id="li_AllViewpoint">
                        <div style="padding:10px;">
                            <ul class="nav nav-pills" role="tablist">
                                @*<li id="liViewpoint" class="nav-item">
                                    <a class="nav-link active" href="#li_PaperSubViewpoint" data-toggle="pill" onclick="liPaperSubViewpoint()">论文子观点</a>
                                    </li>*@
                                <li id="liViewpoint" class="nav-item">
                                    <a class="nav-link active" href="#li_Viewpoint" data-toggle="pill" onclick="liViewpointClick()">个人观点</a>
                                </li>
                                <li id="liExpertViewpoint" class="nav-item">
                                    <a class="nav-link" href="#li_ExpertViewpoint" data-toggle="pill" onclick="liExpertViewpointClick()">专家观点</a>
                                </li>
                                <li id="liConcept" class="nav-item">
                                    <a class="nav-link" href="#li_Concept" data-toggle="pill" onclick="liConceptClick()">相关概念</a>
                                </li>
                                <li id="liObjectiveFact" class="nav-item">
                                    <a class="nav-link" href="#li_Objective" data-toggle="pill" onclick="liObjectiveFactClick()">客观事实</a>
                                </li>
                                <li id="liObjectiveBasis" class="nav-item">
                                    <a class="nav-link" href="#li_ObjectiveBasis" data-toggle="pill" onclick="liObjectiveBasisClick()">客观数据</a>
                                </li>
                                <li id="liSysskill" class="nav-item">
                                    <a class="nav-link" href="#li_Sysskill" data-toggle="pill" onclick="liSysskillClick()">操作技能</a>
                                </li>
                                <li id="liSysSocialRela" class="nav-item">
                                    <a class="nav-link" href="#li_SysSocialRela" data-toggle="pill" onclick="liSysSocialRelationsClick()">社会关系</a>
                                </li>

                                @*<li class="nav-item">
                                    <a class="nav-link active" data-toggle="pill" href="#home">Home</a>
                                    </li>
                                    <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#menu1">Menu 1</a>
                                    </li>
                                    <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#menu2">Menu 2</a>
                                    </li>*@

                            </ul>

                            <!-- Tab panes -->
                            <div class="tab-content">

                                @*<div id="home" class="container tab-pane active">

                                    </div>
                                    <div id="menu1" class="container tab-pane fade">

                                    </div>
                                    <div id="menu2" class="container tab-pane fade">

                                    </div>*@






                                @*-- 下 1个人观点 --*@
                                <div class="tab-pane active" id="li_Viewpoint">
                                    <div class="divTree divTree4" style="width:20%;">
                                        <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                            <button class="btn btn-success" id="btnAddNewClassification" name="btnAddNewClassification" title="添加分类" onclick="btn_Click('AddNewClassification')"><i class="layui-icon">&#xe654;</i>添加分类</button>
                                        </div>
                                        <div class="MeetingTree">
                                            <ul class="st_tree" id="Classification_TreeBind1"></ul>
                                        </div>
                                    </div>
                                    <div class="divContent divContent2" style="width:77%;">
                                        <div id="divFunction" style="float:right;margin-right:0px;">
                                            <ul class="nav">
                                                <li class="nav-item" style="float:left;width:400px;">
                                                    @*<Label id="lblThesisList" name="lblThesisList" class="col-form-label text-info">
                                                        我是谁
                                                        </Label>*@
                                                    <h3 class="text-info" id="ArrangeClassificationTitle1"></h3>
                                                </li>
                                                @*<li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn layui-btn-normal" onclick="btnClearClassification_Click()"><i class="layui-icon">&#xe66e;</i>未添加分类数据</button>
                                                    </li>*@

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn__Click('AddpdfViewPointRela')"><i class="layui-icon"></i>添加个人观点</button>
                                                </li>

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btnAddViewPointRelaRecordInTab_Click()"><i class="layui-icon"></i>引用个人观点</button>
                                                </li>
                                            </ul>
                                        </div>
                                        <div id="divRtViewPointRela" class="div_List">
                                            <div id="divRtViewPointRelaDataLst" class="div_List">
                                            </div>
                                            <div id="divPagerViewpoint" class="pager" value="1" style="display:none;">
                                                @*@Html.Partial("~/Pages/PubWebClass/pageSix.cshtml")*@
                                            </div>
                                        </div>
                                    </div>



                                </div>

                                @*-- 下 2专家观点 --*@
                                <div class="tab-pane fade" id="li_ExpertViewpoint">
                                    <div class="divTree divTree4" style="width:20%;">
                                        <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                            <button class="btn btn-success" id="btnAddNewClassification" name="btnAddNewClassification" title="添加分类" onclick="btn_Click('AddNewClassification')"><i class="layui-icon">&#xe654;</i>添加分类</button>
                                        </div>
                                        <div class="MeetingTree">
                                            <ul class="st_tree" id="Classification_TreeBind2"></ul>
                                        </div>
                                    </div>
                                    <div class="divContent divContent2" style="width:77%;">
                                        <div id="divFunction" style="float:right;margin-right:0px;">
                                            <ul class="nav">
                                                <li class="nav-item" style="float:left;width:400px;">
                                                    <h3 class="text-info" id="ArrangeClassificationTitle2"></h3>
                                                </li>
                                                @*<li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn layui-btn-normal" onclick="btnClearClassification_Click()"><i class="layui-icon">&#xe66e;</i>未添加分类数据</button>
                                                    </li>*@
                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddpdfExpertViewPointRel')"><i class="layui-icon"></i>添加专家观点</button>

                                                </li>

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddExpertViewPointRelaRecordInTab')"><i class="layui-icon"></i>引用专家观点</button>
                                                </li>
                                            </ul>
                                        </div>
                                        <div id="divRtViewPointRela" class="div_List">
                                            <div id="divRtExpertViewPointRelaDataLst" class="div_List">
                                            </div>
                                            <div id="divExpertPagerViewpoint" class="pager" value="1" style="display:none;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @*-- 底 概念 --*@
                                <div class="tab-pane fade" id="li_Concept">
                                    <div class="divTree divTree4" style="width:20%;">
                                        <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                            <button class="btn btn-success" id="btnAddNewClassification" name="btnAddNewClassification" title="添加分类" onclick="btn_Click('AddNewClassification')"><i class="layui-icon">&#xe654;</i>添加分类</button>
                                        </div>
                                        <div class="MeetingTree">
                                            <ul class="st_tree" id="Classification_TreeBind3"></ul>
                                        </div>
                                    </div>
                                    <div class="divContent divContent2" style="width:77%;">
                                        <div id="divFunction" style="float:right;margin-right:0px;">
                                            <ul class="nav">
                                                <li class="nav-item" style="float:left;width:400px;">
                                                    <h3 class="text-info" id="ArrangeClassificationTitle3"></h3>
                                                </li>
                                                @*<li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn layui-btn-normal" onclick="btnClearClassification_Click()"><i class="layui-icon">&#xe66e;</i>未添加分类数据</button>
                                                    </li>*@
                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddpdfNewConceptRela')"><i class="layui-icon"></i>添加概念</button>
                                                </li>

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btnAddConceptRelaRecordInTab_Click()"><i class="layui-icon"></i>引用概念</button>
                                                </li>
                                            </ul>
                                        </div>
                                        <div id="divRtConceptRela" class="div_List">
                                            <div id="divRtConceptRelaDataLst" class="div_List">
                                            </div>
                                            <div id="divPagerConcept" class="pager" value="1" style="display:none;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @*-- 底 客观事实 --*@
                                <div class="tab-pane fade" id="li_Objective">
                                    <div class="divTree divTree4" style="width:20%;">
                                        <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                            <button class="btn btn-success" id="btnAddNewClassification" name="btnAddNewClassification" title="添加分类" onclick="btn_Click('AddNewClassification')"><i class="layui-icon">&#xe654;</i>添加分类</button>
                                        </div>
                                        <div class="MeetingTree">
                                            <ul class="st_tree" id="Classification_TreeBind4"></ul>
                                        </div>
                                    </div>
                                    <div class="divContent divContent2" style="width:77%;">
                                        <div id="divFunction" style="float:right;margin-right:0px;">
                                            <ul class="nav">
                                                <li class="nav-item" style="float:left;width:400px;">
                                                    <h3 class="text-info" id="ArrangeClassificationTitle4"></h3>
                                                </li>
                                                @*<li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn layui-btn-normal" onclick="btnClearClassification_Click()"><i class="layui-icon">&#xe66e;</i>未添加分类数据</button>
                                                    </li>*@
                                                <li class="nav-item ml-3" style="float:right;">

                                                    <button class="layui-btn" onclick="btn_Click('AddpdfObjectiveFact')"><i class="layui-icon"></i>添加客观事实</button>
                                                </li>

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddTopicObjectiveRelaRecordInTab')"><i class="layui-icon"></i>引用客观事实</button>

                                                </li>
                                            </ul>
                                        </div>
                                        <div id="divRtTopicObjectiveRela" class="div_List">
                                            <div id="divRtTopicObjectiveDataLst" class="div_List">
                                            </div>
                                            <div id="divPagerObjective" class="pager" value="1" style="display:none;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @*-- 底 客观数据 --*@
                                <div class="tab-pane fade" id="li_ObjectiveBasis">
                                    <div class="divTree divTree4" style="width:20%;">
                                        <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                            <button class="btn btn-success" id="btnAddNewClassification" name="btnAddNewClassification" title="添加分类" onclick="btn_Click('AddNewClassification')"><i class="layui-icon">&#xe654;</i>添加分类</button>
                                        </div>
                                        <div class="MeetingTree">
                                            <ul class="st_tree" id="Classification_TreeBind5"></ul>
                                        </div>
                                    </div>
                                    <div class="divContent divContent2" style="width:77%;">
                                        <div id="divFunction" style="float:right;margin-right:0px;">
                                            <ul class="nav">
                                                <li class="nav-item" style="float:left;width:400px;">
                                                    <h3 class="text-info" id="ArrangeClassificationTitle5"></h3>
                                                </li>
                                              
                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddpdfBasisObjective')"><i class="layui-icon"></i>添加客观数据</button>
                                                </li>

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddBasisObjectiveRelaInTab')"><i class="layui-icon"></i>引用客观数据</button>

                                                </li>
                                            </ul>
                                        </div>
                                        <div id="divRtTopicObjectiveRela" class="div_List">
                                            <div id="divBasisRtTopicObjectiveDataLst" class="div_List">
                                            </div>
                                            <div id="divPagerBasis" class="pager" value="1" style="display:none;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @*--  技能 --*@
                                <div class="tab-pane fade" id="li_Sysskill">
                                    <div class="divTree divTree4" style="width:20%;">
                                        <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                            <button class="btn btn-success" id="btnAddNewClassification" name="btnAddNewClassification" title="添加分类" onclick="btn_Click('AddNewClassification')"><i class="layui-icon">&#xe654;</i>添加分类</button>
                                        </div>
                                        <div class="MeetingTree">
                                            <ul class="st_tree" id="Classification_TreeBind6"></ul>
                                        </div>
                                    </div>
                                    <div class="divContent divContent2" style="width:77%;">
                                        <div id="divFunction" style="float:right;margin-right:0px;">
                                            <ul class="nav">
                                                <li class="nav-item" style="float:left;width:400px;">
                                                    <h3 class="text-info" id="ArrangeClassificationTitle6"></h3>
                                                </li>
                                                @*<li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn layui-btn-normal" onclick="btnClearClassification_Click()"><i class="layui-icon">&#xe66e;</i>未添加分类数据</button>
                                                    </li>*@
                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddpdfSysskill')"><i class="layui-icon"></i>添加技能</button>
                                                </li>

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddSysskillInTab')"><i class="layui-icon"></i>引用技能</button>

                                                </li>
                                            </ul>
                                        </div>
                                        <div id="divRtSysskillRela" class="div_List">
                                            <div id="divSysskillDataLst" class="div_List">
                                            </div>
                                            <div id="divPagerSysskill" class="pager" value="1" style="display:none;">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @*--  社会关系 --*@
                                <div class="tab-pane fade" id="li_SysSocialRela">
                                    <div class="divTree divTree4" style="width:20%;">
                                        <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                            <button class="btn btn-success" id="btnAddNewClassification" name="btnAddNewClassification" title="添加分类" onclick="btn_Click('AddNewClassification')"><i class="layui-icon">&#xe654;</i>添加分类</button>
                                        </div>
                                        <div class="MeetingTree">
                                            <ul class="st_tree" id="Classification_TreeBind7"></ul>
                                        </div>
                                    </div>
                                    <div class="divContent divContent2" style="width:77%;">
                                        <div id="divFunction" style="float:right;margin-right:0px;">
                                            <ul class="nav">
                                                <li class="nav-item" style="float:left;width:400px;">
                                                    <h3 class="text-info" id="ArrangeClassificationTitle7"></h3>
                                                </li>
                                                @*<li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn layui-btn-normal" onclick="btnClearClassification_Click()"><i class="layui-icon">&#xe66e;</i>未添加分类数据</button>
                                                    </li>*@
                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddpdfSysSocialRela')"><i class="layui-icon"></i>添加社会关系</button>
                                                </li>

                                                <li class="nav-item ml-3" style="float:right;">
                                                    <button class="layui-btn" onclick="btn_Click('AddRTSysSocialRelaInTab')"><i class="layui-icon"></i>引用社会关系</button>

                                                </li>
                                            </ul>
                                        </div>
                                        <div id="divRtSysSocialRelaRela" class="div_List">
                                            <div id="divSysSocialRelaDataLst" class="div_List">
                                            </div>
                                            <div id="divPagerSysSocialRela" class="pager" value="1" style="display:none;">
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                        @* 分类 *@
                        <div id="divViewsClassificationEdit" tabindex="-1">
                        </div>
                    </div>


                    @*-- 会议纪要 li_MeetingMinutes--*@
                    <div class="tab-pane fade" id="li_MeetingMinutes">
                        <div id="divMeetingMinutes" class="div_List">
                            <div id="MeetingMinutesTree" class="divTree divTree3" style="width:15%;">
                                <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                    <button class="btn btn-success" id="btnAddNewRecord" name="btnAddNewRecord" title="添加会议纪要" onclick="btn_Click('AddNewMeetingMinutes')"><i class="layui-icon">&#xe654;</i>添加会议纪要</button>
                                </div>
                                <div class="MeetingTree">
                                    <ul class="st_tree" id="MeetingMinutesTreeBind"></ul>
                                </div>
                            </div>
                            <div id="MeetingMinutesContent" class="divContent divContent2" style="width:82%;">
                                <fieldset class="layui-elem-field layui-field-title">
                                    <legend>会议纪要时间线</legend>
                                </fieldset>
                                <ul id="MeetingMinutesList" class="layui-timeline"></ul>
                            </div>

                        </div>

                        <div id="divMeetingMinutesEdit" tabindex="-1">
                        </div>

                    </div>


                    @*-- 论文汇报 li_PaperReport--*@
                    <div class="tab-pane fade" id="li_PaperReport">
                        <div id="divPaperReport" class="div_List">
                            <div id="PaperReportTree" class="divTree divTree3" style="width:15%;">
                                <div style="text-align:right; width:100%;" class="btn-group btn-group-sm">
                                    <button class="btn btn-success" id="btnAddNewRecord" name="btnAddNewRecord" title="添加论文汇报" onclick="btn_Click('AddNewPaperReport')"><i class="layui-icon">&#xe654;</i>添加论文汇报</button>
                                </div>
                                <div class="MeetingTree">
                                    <ul class="st_tree" id="PaperReportTreeBind"></ul>
                                </div>
                            </div>
                            <div id="PaperReportContent" class="divContent divContent2" style="width:82%;">
                                <fieldset class="layui-elem-field layui-field-title">
                                    <legend>论文汇报时间线</legend>
                                </fieldset>
                                <ul id="PaperReportList" class="layui-timeline"></ul>
                            </div>

                        </div>

                        <div id="divPaperReportEdit" tabindex="-1">
                        </div>

                    </div>



                    @*-- 待研究问题 li_TobeStudiedProblem--*@
                    <div class="tab-pane fade" id="li_TobeStudiedProblem">

                        <div id="divTobeStudiedProblem" class="div_List">


                            <div id="TobeStudiedProblemContent" class="divContent divContent2" style="width:99%;">
                                <table id="tabEdit" style="width:700px" class="table table-bordered table-hover table td table-sm">
                                    <tr>
                                        <td class="text-left">
                                            <input id="txtProblemTitle_q" name="txtProblemTitle_q" placeholder="问题标题" class="form-control" style="width:300px;" />
                                        </td>
                                        <td class="text-left">
                                            <input id="txtProblemDate_q" name="txtProblemDate_q" placeholder="问题日期" class="form-control" style="width:150px;" />
                                        </td>
                                        <td class="text-left">
                                            @*<button id="btnQuery" name="btnQuery" class="btn btn-outline-info btn-sm text-nowrap" style="width:50px;" onclick="liTobeStudiedProblemClick()">查询</button>*@
                                            <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="liTobeStudiedProblemClick()">
                                                <i class="layui-icon">&#xe615;</i>
                                            </button>
                                        </td>
                                        <td class="text-left">
                                            <button class="layui-btn layui-btn-normal" onclick="btn_Click('AddNewTobeStudiedProblem')"><i class="layui-icon"></i>添加待研究问题</button>
                                        </td>
                                    </tr>
                                </table>
                                @*<fieldset class="layui-elem-field layui-field-title">
                                    <legend>待研究问题时间线</legend>

                                    </fieldset>*@
                                <ul id="TobeStudiedProblemList" class="layui-timeline"></ul>
                            </div>

                        </div>

                        <div id="divTobeStudiedProblemEdit" tabindex="-1">
                        </div>

                    </div>



                    @*-- 研究成果 li_ResearchResult--*@
                    <div class="tab-pane fade" id="li_ResearchResult">

                        <div id="divResearchResult" class="div_List">


                            <div id="ResearchResultContent" class="divContent divContent2" style="width:99%;">
                                <table id="tabEdit" style="width:700px" class="table table-bordered table-hover table td table-sm">
                                    <tr>
                                        <td class="text-left">
                                            <input id="txtResultName_q" name="txtResultName_q" placeholder="成果名称" class="form-control" style="width:300px;" />
                                        </td>
                                        <td class="text-left">
                                            <input id="txtUpdDate_q" name="txtUpdDate_q" placeholder="编辑日期" class="form-control" style="width:150px;" />
                                        </td>
                                        <td class="text-left">
                                            <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="liResearchResultClick()">
                                                <i class="layui-icon">&#xe615;</i>
                                            </button>
                                        </td>
                                        <td class="text-left">
                                            <button class="layui-btn layui-btn-normal" onclick="btn_Click('AddNewResearchResult')"><i class="layui-icon"></i>添加研究成果</button>
                                        </td>
                                    </tr>
                                </table>
                                @*<fieldset class="layui-elem-field layui-field-title">
                                    <legend>待研究问题时间线</legend>

                                    </fieldset>*@
                                <ul id="ResearchResultList" class="layui-timeline"></ul>
                            </div>

                        </div>

                        <div id="divResearchResultEdit" tabindex="-1">
                        </div>

                    </div>


                </div>
                @*</div id="divContent">*@
            </div>
        </div>



        @*主题编辑模块*@
        <div class="modal fade" id="divEditRegion" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content" style="width: 800px;">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">模态框（Modal）标题</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>
                    <div class="modal-body">
                        <table id="tabwucResearchTopic" name="tabwucResearchTopic" style="width: 600px; padding: 1px; border:0px" class="table table-bordered table-hover">
                            <tr style="display:none;">
                                <td class="NameTD">
                                    <Label id="lblTopicId" name="lblTopicId" class="col-form-label text-right" style="width:90px;">
                                        主题编号
                                    </Label>
                                </td>
                                <td class="ValueTD">
                                    <input id="txtTopicId" name="txtTopicId" class="form-control" style="width:200px;" />
                                </td>

                            </tr>
                            <tr>
                                <td class="NameTD">
                                    <Label id="lblTopicName" name="lblTopicName" class="col-form-label text-right" style="width:90px;">
                                        栏目主题
                                    </Label>
                                </td>
                                <td class="ValueTD">
                                    <input id="txtTopicName" name="txtTopicName" class="form-control" style="width:400px;" />
                                </td>

                            </tr>
                            <tr>
                                <td class="NameTD">
                                    <Label id="lblTopicContent" name="lblTopicContent" class="col-form-label text-right" style="width:90px;">
                                        主题内容
                                    </Label>
                                </td>
                                <td class="ValueTD">

                                    <textarea id="txtTopicContent" name="txtTopicContent" class="form-control" style="width:500px;height:80px;"></textarea>
                                    @*<input id="txtTopicContent" name="txtTopicContent" class="form-control" style="width:200px;" />*@
                                </td>

                            </tr>
                            <tr>
                                <td class="NameTD">
                                    <Label id="lblShareId" name="lblShareId" class="col-form-label text-right" style="width:90px;">
                                        分享
                                    </Label>
                                </td>
                                <td class="ValueTD">
                                    <select id="ddlShareId" name="ddlShareId" class="form-control" style="width:200px;" />

                                </td>

                            </tr>
                            @*<tr>
                                <td class="NameTD">
                                <Label id="lblTopicProposePeople" name="lblTopicProposePeople" class="col-form-label text-right" style="width:90px;">
                                主题提出人
                                </Label>
                                </td>
                                <td class="ValueTD">
                                <input id="txtTopicProposePeople" name="txtTopicProposePeople" class="form-control" style="width:200px;" />
                                </td>

                                </tr>*@
                            <tr>
                                <td class="NameTD">
                                    <Label id="lblOrderNum" name="lblOrderNum" class="col-form-label text-right" style="width:90px;">
                                        序号
                                    </Label>
                                </td>
                                <td class="ValueTD">
                                    <input id="txtOrderNum" name="txtOrderNum" class="form-control" style="width:200px;" />
                                    <asp:CompareValidator id="ComValid_OrderNum" name="ComValid_OrderNum" runat="server" CssClass="ErrMsg"
                                                          ErrorMessage="请输入整型数值!"
                                                          ControlToValidate="txtOrderNum"
                                                          Type="Integer"
                                                          Operator="DataTypeCheck"
                                                          EnableClientScript="false">
                                    </asp:CompareValidator>
                                </td>
                                @*<td>

                                    </td>*@

                            </tr>
                            <tr>
                                <td class="NameTD">
                                    <Label id="lblMemo" name="lblMemo" class="col-form-label text-right" style="width:90px;">
                                        备注
                                    </Label>
                                </td>
                                <td class="ValueTD">
                                    <textarea id="txtMemo" name="txtMemo" class="form-control" style="width:500px;height:40px;"></textarea>
                                    @*<input id="txtMemo" name="txtMemo" class="form-control" style="width:200px;" />*@
                                </td>

                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal">关闭</button>
                        <button id="btnOKUpd" type="button" class="btn btn-primary btn-sm" onclick="mySubmit()">添加</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal -->
        </div>
        @*-- 编辑层 --*@

        @*- 论文列表 --*@
        <div id="divEdit_Sel" value="1"></div>

        @*-- 用户列表 --*@


        @*-- 观点列表 --*@
        <div class="modal fade" style="z-index:1060;" id="divViewpointList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

            <div class="modal-dialog" style="margin-left:200px;">
                <div class="modal-content" style="width: 1200px;">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">观点列表</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>

                    <div id="divQuery" class="div_query">
                        <table id="tabQuery" name="tabQuery" style="width: 10%; " class="table table-bordered table-hover table td table-sm">
                            <tr>
                                <td>
                                    <input id="txtViewpointName_q" name="txtViewpointName_q" placeholder="观点名称" class="layui-input" style="width:300px;" />
                                </td>
                                <td>
                                    @*<input id="txtViewUpdName_q" name="txtViewUpdName_q" placeholder="编辑用户" class="layui-input" style="width:200px;" />*@
                                    <select id="ddlViewUpdName_q" name="ddlViewUpdName_q" class="form-control" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlCurrEduCls_q1" name="ddlCurrEduCls_q1" class="form-control" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlPublicViewPoint" name="ddlPublicViewPoint" class="form-control" style="width:200px; display:none;">
                                        <option value="1">本组成员观点</option>
                                        <option value="2">用户公开观点</option>
                                    </select>
                                </td>

                                <td>
                                    <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnViewpointQuery_Click()">
                                        <i class="layui-icon">&#xe615;</i>
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-body">

                        @*<div id="divList" class="div_List">*@

                        <div id="divViewpointDataLst" class="div_List">
                        </div>
                        <div id="divPager1" class="pager" value="1" style="display:none;">
                        </div>

                        @*</div>*@
                    </div>
                    <div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeOne_Click()">关闭</button>
                        @*<button id="btnOKUpd" type="button" class="btn btn-primary btn-sm" onclick="mySubmit2()">添加</button>*@
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>

        </div>

        @*-- 概念列表 --*@
        <div class="modal fade" style="z-index:1060;" id="divConceptList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

            <div class="modal-dialog" style="margin-left:200px;">
                <div class="modal-content" style="width: 1200px;">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">概念列表</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>

                    @*-- 查询层 --*@

                    <div id="divQuery" class="div_query">
                        <table id="tabQuery" name="tabQuery" style="width: 10%; " class="table table-bordered table-hover table td table-sm">
                            <tr>
                                @*<td>
                                    <Label id="lblConceptName_q" name="lblConceptName_q" class="col-form-label text-right" style="width:80px;width:90px;">
                                    概念名称
                                    </Label>
                                    </td>*@
                                <td>
                                    <input id="txtConceptName_q" name="txtConceptName_q" placeholder="概念名称" class="layui-input" style="width:300px;" />
                                </td>
                                <td>
                                    <input id="txtConceptUpdName_q" name="txtConceptUpdName_q" placeholder="编辑用户" class="layui-input" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlCurrEduCls_q2" name="ddlCurrEduCls_q2" class="form-control" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlPublicViewPoint" name="ddlPublicViewPoint" class="form-control" style="width:200px; display:none;">
                                        <option value="1">本组成员观点</option>
                                        <option value="2">用户公开观点</option>
                                    </select>
                                </td>

                                @*<td>
                                    <span class="form-control" style="width:200px;">
                                    <input type="checkbox" id="chkIsSubmit_q" name="chkIsSubmit_q" Text="是否提交"><label for="chkIsSubmit_q">是否提交</label>
                                    </span>
                                    </td>*@
                                <td>
                                    <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnConceptQuery_Click()">
                                        <i class="layui-icon">&#xe615;</i>
                                    </button>
                                    @*<button type="submit" id="btnQuery" name="btnQuery" class="btn btn-outline-warning text-nowrap" onclick="btnQuery_Click()">查询</button>*@
                                </td>

                            </tr>
                        </table>
                    </div>

                    <div class="modal-body">

                        @*<div id="divList" class="div_List">*@
                        <div id="divConceptDataLst" class="div_List">
                        </div>

                        <div id="divPager2" class="pager" value="1" style="display:none;">
                        </div>

                        @*</div>*@
                    </div>
                    <div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeSeven_Click()">关闭</button>
                        @*<button id="btnOKUpd" type="button" class="btn btn-primary btn-sm" onclick="mySubmit2()">添加</button>*@
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>

        </div>


        @*-- 客观列表 --*@
        <div class="modal fade" style="z-index:1060;" id="divObjectiveList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

            <div class="modal-dialog" style="margin-left:200px;">
                <div class="modal-content" style="width: 1200px;">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">客观列表</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>

                    @*-- 查询层 --*@

                    <div id="divQuery" class="div_query">
                        <table id="tabQuery" style="width: 20%; " class="table table-bordered table-hover table td table-sm">
                            <tr>
                                @*<td>
                                    <Label id="lblObjectiveName_q" name="lblObjectiveName_q" class="col-form-label text-right" style="width:80px;width:90px;">客观名称
                                    </Label>
                                    </td>*@
                                <td>
                                    <input id="txtObjectiveName_q" name="txtObjectiveName_q" placeholder="客观名称" class="layui-input" style="width:300px;" />
                                </td>
                                <td>
                                    <input id="txtObjUpdName_q" name="txtObjUpdName_q" placeholder="编辑用户" class="layui-input" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlCurrEduCls_q3" name="ddlCurrEduCls_q3" class="form-control" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlPublicViewPoint" name="ddlPublicViewPoint" class="form-control" style="width:200px; display:none;">
                                        <option value="1">本组成员观点</option>
                                        <option value="2">用户公开观点</option>
                                    </select>
                                </td>

                                <td>
                                    <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnQueryObjective_Click()">
                                        <i class="layui-icon">&#xe615;</i>
                                    </button>
                                    @*<button  type="submit" id="btnQuery" name="btnQuery" class="btn btn-outline-warning text-nowrap" onclick="btnQuery_Click()">查询</button>*@
                                </td>
                                @*<td>
                                    <button  type="submit" id="btnExportExcel" name="btnExportExcel" class="btn btn-outline-warning text-nowrap" onclick="btnExportExcel_Click()">导出Excel</button>
                                    </td>*@
                            </tr>
                        </table>
                    </div>

                    <div class="modal-body">

                        <div id="divList" class="div_List">
                            <div id="divObjectiveDataLst" class="div_List">
                            </div>
                            <div id="divPager3" class="pager" value="1" style="display:none;">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeEight_Click()">关闭</button>
                        @*<button id="btnOKUpd" type="button" class="btn btn-primary btn-sm" onclick="mySubmit2()">添加</button>*@
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>

        </div>

        @*-- 技能列表 --*@
        <div class="modal fade" style="z-index:1060;" id="divSysSkillList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

            <div class="modal-dialog" style="margin-left:200px;">
                <div class="modal-content" style="width: 1200px;">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">技能列表</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>

                    @*-- 查询层 --*@

                    <div id="divQuery" class="div_query">

                        <table id="tabQuery" style="width:50%;" class="table table-bordered table-hover table td table-sm">
                            <tr>
                                <td>
                                    <input id="txtSkillName_q" name="txtSkillName_q" placeholder="技能名称" class="layui-input" style="width:180px;" />
                                </td>
                                <td>
                                    <select id="ddlOperationTypeId_q" name="ddlOperationTypeId_q" class="form-control" style="width:180px;"></select>
                                </td>
                                <td>
                                    <input id="txtUpdUser_q" name="txtUpdUser_q" placeholder="编辑人" class="layui-input" style="width:120px;" />
                                </td>
                                <td>
                                    <select id="ddlCurrEduCls_q4" name="ddlCurrEduCls_q4" class="form-control" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlPublicViewPoint" name="ddlPublicViewPoint" class="form-control" style="width:200px; display:none;">
                                        <option value="1">本组成员观点</option>
                                        <option value="2">用户公开观点</option>
                                    </select>
                                </td>
                                <td>
                                    <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnQuerySysskill_Click()">
                                        <i class="layui-icon">&#xe615;</i>
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div class="modal-body">

                        <div id="divList" class="div_List">
                            <div id="divSysSkillDataLst" class="div_List">
                            </div>
                            <div id="divPager3" class="pager" value="1" style="display:none;">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeNine_Click()">关闭</button>
                        @*<button id="btnOKUpd" type="button" class="btn btn-primary btn-sm" onclick="mySubmit2()">添加</button>*@
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>

        </div>

        @*-- 社会关系 --*@
        <div class="modal fade" style="z-index:1060;" id="divSysSocialRelationsList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

            <div class="modal-dialog" style="margin-left:200px;">
                <div class="modal-content" style="width: 1200px;">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">社会关系列表</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>

                    @*-- 查询层 --*@

                    <div id="divQuery" class="div_query">
                        <table id="tabQuery" style="width:50%;" class="table table-bordered table-hover table td table-sm">
                            <tr>
                                <td>
                                    <input id="txtFullName_q" name="txtFullName_q" placeholder="姓名" class="layui-input" style="width:120px;" />
                                </td>
                                @*<td>
                                    <input id="txtAchievement_q" name="txtAchievement_q" placeholder="成就" class="layui-input" style="width:120px;" />
                                    </td>*@
                                <td>
                                    <select id="ddlLevelId_q" name="ddlLevelId_q" class="form-control" style="width:180px;"></select>
                                </td>
                                <td>
                                    <select id="ddlCurrEduCls_q5" name="ddlCurrEduCls_q5" class="form-control" style="width:200px;" />
                                </td>
                                <td>
                                    <select id="ddlPublicViewPoint" name="ddlPublicViewPoint" class="form-control" style="width:200px; display:none;">
                                        <option value="1">本组成员观点</option>
                                        <option value="2">用户公开观点</option>
                                    </select>
                                </td>
                                <td>

                                    <button class="layui-btn" lay-submit="" lay-filter="sreach" onclick="btnQuerySysSocialRelations_Click()">
                                        <i class="layui-icon">&#xe615;</i>
                                    </button>
                                </td>

                            </tr>
                        </table>
                    </div>

                    <div class="modal-body">

                        <div id="divList" class="div_List">
                            <div id="divSysSocialRelationsDataLst" class="div_List">
                            </div>
                            <div id="divPager3" class="pager" value="1" style="display:none;">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeTen_Click()">关闭</button>
                        @*<button id="btnOKUpd" type="button" class="btn btn-primary btn-sm" onclick="mySubmit2()">添加</button>*@
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>

        </div>





        @*-- 主题论文 --*@
        <div class="modal fade" style="z-index:1060;" id="divTopicPaperUserList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

            <div class="modal-dialog" style="margin-left:300px;">
                <div class="modal-content" style="width: 1200px;">
                    @*<div class="modal-content">*@
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">主题论文列表</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>


                    <div class="modal-body">

                        <div id="divList" class="div_List">
                            <div id="divTopicPaperDataLst" class="div_List">
                            </div>
                            <div id="divPager_TopicPaperLst" class="pager" value="1">
                            </div>
                        </div>
                    </div>
                    @*<div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeThree_Click()">关闭</button>

                        </div>*@
                </div>
                <!-- /.modal-content -->
            </div>
        </div>

        @*-- 用户色码 --*@
        <div class="modal fade" style="z-index:1060;" id="divUserColorList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

            <div class="modal-dialog">
                <div class="modal-content" style="width:800px;">

                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">用户信息</h4>&nbsp;&nbsp;&nbsp;
                        <label style="color:red;">提示:点击色码块更改用户背景色码;确定按钮用于修改下拉框用户角色;</label>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>

                    <div class="modal-body">
                        <div id="divUserColorDataLst" class="div_List">
                        </div>
                    </div>
                    @*<div class="modal-footer">
                        <button id="btnCancel" type="button" class="btn btn-default btn-sm" data-dismiss="modal" onclick="closeThree_Click()">关闭</button>

                        </div>*@
                </div>
                <!-- /.modal-content -->
            </div>
        </div>

        @* 各观点分类调整 *@
        <div class="modal fade" id="editClassification" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="margin-top:200px;">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- 模态框头部 -->
                    <div class="modal-header">
                        <h4 class="modal-title">编辑观点分类</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- 模态框主体 -->
                    <div class="modal-body">
                        <table>
                            <tr>
                                <td><select id="ddlClassificationId" name="ddlClassificationId" class="form-control" style="width:300px;" /></td>
                                <td><button type="button" class="btn btn-primary" onclick="SubmiClassification_Click()">提交更改</button></td>
                            </tr>
                        </table>
                    </div>


                </div>
            </div>
        </div>


        @* 主题权限设置 *@
        <div class="modal fade" id="editTopicRole" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="margin-top:200px;">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- 模态框头部 -->
                    <div class="modal-header">
                        <h4 class="modal-title">主题权限设置</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- 模态框主体 -->
                    <div class="modal-body">
                        <div id="editTopicRoleList" class="TopicRole">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group" style="display:none;">
            <div class="col-sm-4">
                @* 老的带标签的数据 不更改*@
                <textarea rows="2" cols="20" type="text" id="inpOldData" name="inpOldData"></textarea>
                @* 需要比对去标签的数据*@
                <textarea rows="2" cols="20" type="text" id="inpLeft" name="inpLeft"></textarea>

            </div>

            <textarea rows="2" cols="20" type="text" id="inpRight" name="inpRight"></textarea>

        </div>

    </div>

    <div id="divEdit_ResearchTopic" tabindex="-1"> </div>
    <div id="divEdit_gs_ReflectLog" tabindex="-1"> </div>
    <div id="divEdit_gs_TobeStudiedProblem" tabindex="-1"></div>
    <div id="divEdit_gs_ResearchResult" tabindex="-1">    </div>
    <div id="divEdit_gs_PaperReport" tabindex="-1">       </div>
    <div id="divEdit_gs_MeetingMinutes" tabindex="-1">    </div>
    <div id="divEdit_gs_TeacherTask" tabindex="-1">       </div>
    <div id="divEdit_gs_ViewsClassification" tabindex="-1">       </div>

</div>

<input id="hidOpType" type="hidden" />
<input id="hidKeyId" type="hidden" />
<input id="hidCurrPageIndex" type="hidden" value="1" />
<input id="hidSortResearchTopicBy" type="hidden" value="" />


<input id="hidTopicRelaId" type="hidden" value="" />
<input id="hidUserId" type="hidden" value="" />
<input id="hidRoleId" type="hidden" value="" />

<input id="hidEduClsTypeId" type="hidden" value="" />
@* 权限设置 *@
<input id="hidMenuIsHide" type="hidden" />
<input id="hidTopicRoleId" type="hidden" />
@*- 观点 个人 专家 --*@
<input id="hidSortvViewpointBy" type="hidden" value="" />

<input id="hidViewpointId" type="hidden" value="" />

@*- 论文 --*@
<input id="hidSortvPaperBy" type="hidden" value="" />
<input id="hidPaperId" type="hidden" value="" />

@*- 主题论文 --*@
<input id="hidTopicPaperId" type="hidden" value="" />

<input id="hidSortQxUsersBy" type="hidden" value="" />
<input id="hidUserIdKey" type="hidden" value="" />
@*- 主题用户关系 --*@
<input id="hidSortvRTUserRelaBy" type="hidden" value="" />
<input id="hidCurrPageIndexUser" type="hidden" value="1" />



@*- 主题观点关系 --*@
<input id="hidSortvRTViewpointRelaBy" type="hidden" value="" />
<input id="hidCurrPageIndexViewpoint" type="hidden" value="1" />

@*- 主题论文关系 --*@
<input id="hidSortvRTPaperRelaBy" type="hidden" value="" />
<input id="hidCurrPageIndexPaper" type="hidden" value="1" />

@*- 主题概念关系 --*@
<input id="hidCurrPageIndex" type="hidden" value="1" />
<input id="hidSortvRTConceptRelaBy" type="hidden" value="" />
<input id="hidConceptId" type="hidden" value="" />

@*- 主题客观关系 --*@
<input id="hidSortvTopicObjectiveBy" type="hidden" value="" />
<input id="hidObjectiveId" type="hidden" value="" />

@*- 观点角色类型 --*@
<input id="hidUserTypeId" type="hidden" value="" />

@*- 客观类型 --*@
<input id="hidObjectiveTypeId" type="hidden" value="" />

@*- 用户列表 --*@
<input id="hidSortvUsersBy" type="hidden" value="" />
@*- 客观事实列表 --*@
<input id="hidSortvTopicObjectiveBy" type="hidden" value="" />
@*- 存放tab页顺序 --*@
<input id="hidTabNum" type="hidden" />

@*-研究结果 --*@
@*<input id="hidSortvRTResearchResultBy" type="hidden" value="" />*@

@*- 区分所有论文，和小组成员论文 --*@
<input id="hidstrType" type="hidden" />

@* 区分个人专家观点  区分客观事实和客观数据 *@
<input id="hidPageType" type="hidden" />

@*-技能 --*@
<input id="hidSortvRTSysSkillBy" type="hidden" value="" />
<input id="hidSkillId" type="hidden" value="" />

@*-社会关系 --*@
<input id="hidSortvRTSysSocialRelaBy" type="hidden" value="" />
<input id="hidSocialId" type="hidden" value="" />
@*-研究计划 --*@
<input id="hidSortvgs_ResearchPlanBy" type="hidden" value="" />
@*-研究计划 教师任务布置 --*@
<input id="hidSortgs_TeacherTaskBy" type="hidden" value="" />


@* 论文类型 *@
<input id="hidPaperTypeId" type="hidden" value="" />
@* 当前教学班Id *@
<input id="hidId_CurrEduCls" type="hidden" />
@* 主题用户Id *@
<input id="hidTopicUserId" type="hidden" />

@* 小组答疑 *@
<input id="hidSortvgs_RTqa_PaperRelaBy" type="hidden" />


@* 会议纪要 *@
<input id="hidYear" type="hidden" />
<input id="hidMonth" type="hidden" />
<input id="hidMeetingId" type="hidden" />
<input id="hidColorCode" type="hidden" />

<input id="hidOldColorCode" type="hidden" />
<input id="hidNewColorCode" type="hidden" />
<input id="hidUpdUserId" type="hidden" />


@* 论文汇报 *@
<input id="hidReportId" type="hidden" />
<input id="hidppt" type="hidden" />
<input id="hidpdf" type="hidden" />

@* 待研究问题 *@
<input id="hidProblemId" type="hidden" />

@* 各观点分类 *@
<input id="hidViewsTabNum" type="hidden" />
<input id="hidViewsId" type="hidden" />
<input id="hidClassificationId" type="hidden" />
<input id="hidViewsMId" type="hidden" />

@* 编辑 *@
@*<input id="hidEditClassificationId" type="hidden" />*@


@* 研究成果 *@
<input id="hdnFileOne" type="hidden" />
<input id="hdnFileTwo" type="hidden" />
<input id="hdnFileThree" type="hidden" />