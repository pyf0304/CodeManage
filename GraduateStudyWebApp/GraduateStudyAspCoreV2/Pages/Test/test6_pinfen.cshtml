
@page
@{
    Layout = null;
}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>评分组件</title>
    @*<link rel="stylesheet" href="../src/css/layui.css" />*@
    <link rel="stylesheet" href="~/lib/Xadmin/css/xadmin.css" />
    @*<link rel="stylesheet" href="~/lib/layui/css/layui.css" />*@
</head>
<body>
    <div style="width:100%;text-align:left;margin-top:200px; margin-left:300px; background-color:Highlight">
        <div id="test1"></div>
        <br />
        <input id="txtScore" placeholder="评分" name="txtAppraiseContent" class="form-control" style="width:500px;" />
        <br />
        <textarea id="txtAppraiseContent" placeholder="请输入您的评语" name="txtAppraiseContent" class="form-control" style="width:500px;height:80px;"></textarea>
    </div>
    @*<script src="../src/layui.js"></script>*@
    <script src="~/lib/Xadmin/lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="~/lib/Xadmin/js/xadmin.js"></script>

    <script>
        layui.use('rate', function () {
            var rate = layui.rate;
            var txtContent = document.getElementById("txtAppraiseContent");
            var txtScore = document.getElementById("txtScore");

            //渲染
            var ins1 = rate.render({
                elem: '#test1'  //绑定元素
                , length: 10 //设置多少星
                , value: 0 //初始值
                , half: true//开启半星
                , text: true//开启文本

                , setText: function (value) {
                    //var arrs = {
                    //    '1': '极差',
                    //    '2': '极差',
                    //    '3': '极差',
                    //    '4': '差',
                    //    '5': '中等',
                    //    '6': '及格',
                    //    '7': '良好',
                    //    '8': '很好',
                    //    '9': '极好',
                    //    '10': '非常好'
                    //};
                    //this.span.text(arrs[value] || (value + "分"));
                    this.span.text(value + "分");
                }
                , choose: function (value) {
                    txtScore.value = value;
                    if (value < 4) {
                        txtContent.value = "极差";
                    } else if (value > 3 && value < 5) {
                        txtContent.value = "差";
                    } else if (value > 4 && value < 6) {
                        txtContent.value = "中等";
                    }
                    else if (value > 5 && value < 7) {
                        txtContent.value = "及格";
                    }
                    else if (value > 6 && value < 8) {
                        txtContent.value = "良好";
                    }
                    else if (value > 7 && value < 9) {
                        txtContent.value = "很好";
                    }
                    else if (value > 8 && value < 10) {
                        txtContent.value = "极好";
                    }
                    else if (value > 9) {
                        txtContent.value = "非常好";
                    }
                    //alert('么么哒')
                }
            });
        });
    </script>
</body>
</html>